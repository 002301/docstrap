<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"base_index.js.html":{"id":"base_index.js.html","title":"Source: base/index.js","body":" DocStrap Modules basebase/chainsdocuments/binderdocuments/modeldocuments/probedocuments/schemaink/collectormixins/bussablemixins/signalablestrings/formatutils/logger Classes basebase/chainsdocuments/modeldocuments/probe.queryOperatorsdocuments/probe.updateOperatorsink/collector~ACollectorink/collector~CollectorBaseink/collector~OCollectormixins/signalable~Signalutils/logger.Logger Mixins documents/schemamixins/bussablemixins/signalable Tutorials Brush TeethDrive CarFence Test Source: base/index.js &quot;use strict&quot;; /** * @fileOverview This is base definition for all composed classes defined by the system * @module base * @requires base/chains * @requires dcl */ var dcl = require( &quot;dcl&quot; ); var chains = require( &quot;./chains&quot; ); /** * @classdesc The base of all classes in the system, this is one of the few pure &quot;classes&quot; in core the of the system. It is a * pretty clean little class whose primary purpose is to surface the composition chains and a basis for storing * options on mixin and subclass instances. Options are handled at the instance rather than the prototype level * so that multiple instances don't compete for default values. * * @exports base * @constructor * @extends base/chains */ var Base = dcl( [chains], /** @lends base# */{ declaredClass : &quot;Base&quot;, /** * Add an option to a class. If any members of the hash already exist in `this.options`, they will be overwritten. * @param {hash} options A hash of options you want to set * @see {base#addDefaultOptions} */ addOptions : function ( options ) { options = options || {}; if ( this.options ) {options = sys.extend( {}, sys.result( this, 'options' ), options );} this.options = options; }, /** * Add a default option to a class. The default options are only set if there is not already a * value for the option. * @param {hash} options A hash of options you want to set * @see {base#addOptions} */ addDefaultOptions : function ( options ) { options = options || {}; if ( this.options ) {options = sys.defaults( {}, sys.result( this, 'options' ), options );} this.options = options; }, /** * Call this to close your object and dispose of all maintained resources. You can define this method on your * own classes without having to call the superclass instance, however it is reccomended that you put * all disposal code in `destroy()`. You must be disciplined about calling this on your instances. * @see {base/chains#end} * @see {base/chains#destroy} */ end : function () { this.destroy() }, /** * Called when it is time to get rid of all of your instance level references and objects and events. You can * define this method on your own classes without having to call the superclass instance. It is called by * `instance.end()` automatically * @see {base/chains#end} * @see {base/chains#destroy} */ destroy : function () { } } ); Base.compose = dcl; Base.mixin = dcl.mix; module.exports = Base; × Search results Close "},"base_chains.js.html":{"id":"base_chains.js.html","title":"Source: base/chains.js","body":" DocStrap Modules basebase/chainsdocuments/binderdocuments/modeldocuments/probedocuments/schemaink/collectormixins/bussablemixins/signalablestrings/formatutils/logger Classes basebase/chainsdocuments/modeldocuments/probe.queryOperatorsdocuments/probe.updateOperatorsink/collector~ACollectorink/collector~CollectorBaseink/collector~OCollectormixins/signalable~Signalutils/logger.Logger Mixins documents/schemamixins/bussablemixins/signalable Tutorials Brush TeethDrive CarFence Test Source: base/chains.js &quot;use strict&quot;; /** * @fileOverview The chains define the primary composition elements (functions) that determine the order of execution. * * @module base/chains * @requires dcl */ var dcl = require( &quot;dcl&quot; ); /** * @classDesc Chains define the primary composition elements (functions) that determine the order of execution. * @exports base/chains * @constructor */ var Chains = dcl( null, {declaredClass : &quot;base/chains&quot;} ); /** * The `close` method asks an object to shut itself down in a way that will allow it to be reopened, unlike the * [end method]{@link base/chains#end} which will call the destroy method which should make the object unusable, but also * devoid of all resources whereas `close` may still keep some resources open. * * | Heading 1 | Heading 2 | Heading 3 | * |-----------|-----------|-----------------| * | Bar | Food | This is a table | * * This uses the `before` chain which means the last one defined in the first one destroyed * @memberOf base/chains# * @name close * @see base/chains#open */ dcl.chainBefore( Chains, &quot;close&quot; ); /** * The `end` method will call the destroy method which should make the object unusable and * devoid of all resources, unlike the * [close method]{@link base/chains#close} asks an object to shut itself down in a way that will allow it to be reopened. * * This uses the `before` chain which means the last one defined in the first one destroyed * @memberOf base/chains# * @name end * * @example &lt;caption&gt;Add this to your application.properties.&lt;/caption&gt; * {@lang bash} * foo=bar * */ dcl.chainBefore( Chains, &quot;end&quot; ); /** * Destroy is called by the end method and it is here that you should clean up after yourself. The difference between * `destroy` and [end]{@link base/chains#end} is the `end` is the verb that you raise on an object to ask it to go away * and `destroy` is where you actually do the work to clean up. Think of this as the counterpart of `constructor` yet * not called automatically. * * This uses the `before` chain which means the last one defined is the first one destroyed * @private * @memberOf base/chains# * @name destroy */ dcl.chainBefore( Chains, &quot;destroy&quot; ); /** * If you are using the open/close paradigm for an object that can kind of go dormant on {@link base/chains#close} and can be &quot;reopened&quot; * again later, here is where the &quot;open&quot; code will go. * * This used the `after` chain which means that the first one defined is the first one destroyed. * * @memberOf base/chains# * @name open * @see base/chains#close */ dcl.chainAfter( Chains, &quot;open&quot; ); module.exports = Chains; × Search results Close "},"documents_model.js.html":{"id":"documents_model.js.html","title":"Source: documents/model.js","body":" DocStrap Modules basebase/chainsdocuments/binderdocuments/modeldocuments/probedocuments/schemaink/collectormixins/bussablemixins/signalablestrings/formatutils/logger Classes basebase/chainsdocuments/modeldocuments/probe.queryOperatorsdocuments/probe.updateOperatorsink/collector~ACollectorink/collector~CollectorBaseink/collector~OCollectormixins/signalable~Signalutils/logger.Logger Mixins documents/schemamixins/bussablemixins/signalable Tutorials Brush TeethDrive CarFence Test Source: documents/model.js &quot;use strict&quot;; /** * @fileOverview A model is the first level if usable data-bearing entity in the system. It does NOT include any verbs for saving or anything like * that, it is a pure, in memory data container * @module documents/model * @require base * @require documents/probe * @require lodash */ var Base = require( &quot;../base&quot; ); var probe = require( &quot;./probe&quot; ); var sys = require( &quot;lodash&quot; ); /** * A model is the first level if usable data-bearing entity in the system. It does NOT include any verbs for saving or anything like * that, it is a pure, in memory data container * @exports documents/model * @constructor * @borrows module:documents/probe.get as get * @borrows module:documents/probe.set as set * @borrows module:documents/probe.any as any * @borrows module:documents/probe.all as all * @borrows module:documents/probe.remove as remove * @borrows module:documents/probe.seekKey as seekKey * @borrows module:documents/probe.seek as seek * @borrows module:documents/probe.findOne as findOne * @borrows module:documents/probe.findOneKey as findOneKey * @borrows module:documents/probe.findKeys as findKeys * @borrows module:documents/probe.find as find * @borrows module:documents/probe.update as update * @borrows module:documents/probe.some as some * @borrows module:documents/probe.every as every */ var Model = Base.compose( [Base], /** @lends documents/model# */{ constructor : function () { var that = this; probe.mixin( this ); var idField = &quot;_id&quot;; /** * The name of the field that uniquely identifies a record. When provided, some operations will take advantage of it * * @name _idField * @memberOf documents/model# * @type {string} * @private */ Object.defineProperty( this, &quot;_idField&quot;, { get : function () { return idField; }, set : function ( val ) { idField = val; }, configurable : false, enumerable : true, writable : true } ); /** * The value of the primary key if {@link documents/model#_idField} is filled in. It will be null if none found * * @name _pkey * @memberOf documents/model# * @type {*} * @private */ Object.defineProperty( this, &quot;_pkey&quot;, { get : function () { var val; if ( !sys.isEmpty( that._idField ) ) { val = that[that._idField]; } return val; }, set : function ( val ) { if ( !sys.isEmpty( that._idField ) ) { that[that._idField] = val; } }, configurable : false, enumerable : true, writable : true } ); /** * If {@link documents/model#_idField} is filled in and it's value is empty this will be true. * @type {boolean} * @name isNew * @memberOf documents/model# */ Object.defineProperty( this, &quot;isNew&quot;, { get : function () { return !sys.isEmpty( that._idField ) &amp;&amp; !sys.isEmpty( that[that._idField] ) }, configurable : false, enumerable : true, writable : false } ); /** * Returns true if this instance is empty * @type {boolean} * @name isEmpty * @memberOf documents/model# */ Object.defineProperty( this, &quot;isEmpty&quot;, { get : function () { return sys.isEmpty( that ); }, configurable : false, enumerable : true, writable : false } ); } } ); module.exports = Model; × Search results Close "},"documents_probe.js.html":{"id":"documents_probe.js.html","title":"Source: documents/probe.js","body":" DocStrap Modules basebase/chainsdocuments/binderdocuments/modeldocuments/probedocuments/schemaink/collectormixins/bussablemixins/signalablestrings/formatutils/logger Classes basebase/chainsdocuments/modeldocuments/probe.queryOperatorsdocuments/probe.updateOperatorsink/collector~ACollectorink/collector~CollectorBaseink/collector~OCollectormixins/signalable~Signalutils/logger.Logger Mixins documents/schemamixins/bussablemixins/signalable Tutorials Brush TeethDrive CarFence Test Source: documents/probe.js &quot;use strict&quot;; /** @fileOverview Queries objects in memory using a mongo-like notation for reaching into objects and filtering for records @module documents/probe @author Terry Weiss @license MIT @requires lodash */ var sys = require( &quot;lodash&quot; ); /** The list of operators that are nested within the expression object. These take the form &lt;code&gt;{path:{operator:operand}}&lt;/code&gt; @private @type {array.&lt;string&gt;} **/ var nestedOps = [&quot;$eq&quot;, &quot;$gt&quot;, &quot;$gte&quot;, &quot;$in&quot;, &quot;$lt&quot;, &quot;$lte&quot;, &quot;$ne&quot;, &quot;$nin&quot;, &quot;$exists&quot;, &quot;$mod&quot;, &quot;$size&quot;, &quot;$all&quot;]; /** The list of operators that prefix the expression object. These take the form &lt;code&gt;{operator:{operands}}&lt;/code&gt; or &lt;code&gt;{operator: [operands]}&lt;/code&gt; @private @type {array.&lt;string&gt;} **/ var prefixOps = [&quot;$and&quot;, &quot;$or&quot;, &quot;$nor&quot;, &quot;$not&quot;]; /** Processes a nested operator by picking the operator out of the expression object. Returns a formatted object that can be used for querying @private @param {string} path The path to element to work with @param {object} operand The operands to use for the query @return {object} A formatted operation definition **/ function processNestedOperator( path, operand ) { var opKeys = Object.keys( operand ); return { operation : opKeys[ 0 ], operands : [operand[ opKeys[ 0 ] ]], path : path }; } /** Interrogates a single query expression object and calls the appropriate handler for its contents @private @param {object} val The expression @param {object} key The prefix @returns {object} A formatted operation definition **/ function processExpressionObject( val, key ) { var operator; if ( sys.isObject( val ) ) { var opKeys = Object.keys( val ); var op = opKeys[ 0 ]; if ( sys.indexOf( nestedOps, op ) &gt; -1 ) { operator = processNestedOperator( key, val ); } else if ( sys.indexOf( prefixOps, key ) &gt; -1 ) { operator = processPrefixOperator( key, val ); } else if ( op === &quot;$regex&quot; ) { // special handling for regex options operator = processNestedOperator( key, val ); } else if ( op === &quot;$elemMatch&quot; ) { // elemMatch is just a weird duck operator = { path : key, operation : op, operands : [] }; sys.each( val[ op ], function ( entry ) { operator.operands = parseQueryExpression( entry ); } ); } else { throw new Error( &quot;Unrecognized operator&quot; ); } } else { operator = processNestedOperator( key, { $eq : val } ); } return operator; } /** Processes a prefixed operator and then passes control to the nested operator method to pick out the contained values @private @param {string} operation The operation prefix @param {object} operand The operands to use for the query @return {object} A formatted operation definition **/ function processPrefixOperator( operation, operand ) { var component = { operation : operation, path : null, operands : [] }; if ( sys.isArray( operand ) ) { //if it is an array we need to loop through the array and parse each operand //if it is an array we need to loop through the array and parse each operand sys.each( operand, function ( obj ) { sys.each( obj, function ( val, key ) { component.operands.push( processExpressionObject( val, key ) ); } ); } ); } else { //otherwise it is an object and we can parse it directly sys.each( operand, function ( val, key ) { component.operands.push( processExpressionObject( val, key ) ); } ); } return component; } /** Parses a query request and builds an object that can used to process a query target @private @param {object} obj The expression object @returns {object} All components of the expression in a kind of execution tree **/ function parseQueryExpression( obj ) { if ( sys.size( obj ) &gt; 1 ) { var arr = sys.map( obj, function ( v, k ) { var entry = {}; entry[k] = v; return entry; } ); obj = { $and : arr }; } var payload = []; sys.each( obj, function ( val, key ) { var exprObj = processExpressionObject( val, key ); if ( exprObj.operation === &quot;$regex&quot; ) { exprObj.options = val.$options; } payload.push( exprObj ); } ); return payload; } /** The delimiter to use when splitting an expression @type {string} @static @default '.' **/ exports.delimiter = '.'; /** Splits a path expression into its component parts @private @param {string} path The path to split @returns {array} **/ function splitPath( path ) { return path.split( exports.delimiter ); } /** Reaches into an object and allows you to get at a value deeply nested in an object @private @param {array} path The split path of the element to work with @param {object} record The record to reach into @return {*} Whatever was found in the record **/ function reachin( path, record ) { var context = record; var part; var _i; var _len; for ( _i = 0, _len = path.length; _i &lt; _len; _i++ ) { part = path[_i]; context = context[part]; if ( sys.isNull( context ) || sys.isUndefined( context ) ) { break; } } return context; } /** This will write the value into a record at the path, creating intervening objects if they don't exist @private @param {array} path The split path of the element to work with @param {object} record The record to reach into @param {string} setter The set command, defaults to $set @param {object} newValue The value to write to the, or if the operator is $pull, the query of items to look for */ function pushin( path, record, setter, newValue ) { var context = record; var parent = record; var lastPart = null; var _i; var _len; var part; var keys; for ( _i = 0, _len = path.length; _i &lt; _len; _i++ ) { part = path[_i]; lastPart = part; parent = context; context = context[part]; if ( sys.isNull( context ) || sys.isUndefined( context ) ) { parent[part] = {}; context = parent[part]; } } if ( sys.isEmpty( setter ) || setter === '$set' ) { parent[lastPart] = newValue; return parent[lastPart]; } else { switch ( setter ) { case '$inc': /** * Increments a field by the amount you specify. It takes the form * `{ $inc: { field1: amount } }` * @name $inc * @memberOf module:documents/probe.updateOperators * @example * var probe = require(&quot;documents/probe&quot;); * probe.update( obj, {'name.last' : 'Owen', 'name.first' : 'LeRoy'}, * {$inc : {'password.changes' : 2}} ); */ if ( !sys.isNumber( newValue ) ) { newValue = 1; } if ( sys.isNumber( parent[lastPart] ) ) { parent[lastPart] = parent[lastPart] + newValue; return parent[lastPart]; } break; case '$dec': /** * Decrements a field by the amount you specify. It takes the form * `{ $dec: { field1: amount }` * @name $dec * @memberOf module:documents/probe.updateOperators * @example * var probe = require(&quot;documents/probe&quot;); * probe.update( obj, {'name.last' : 'Owen', 'name.first' : 'LeRoy'}, * {$dec : {'password.changes' : 2}} ); */ if ( !sys.isNumber( newValue ) ) { newValue = 1; } if ( sys.isNumber( parent[lastPart] ) ) { parent[lastPart] = parent[lastPart] - newValue; return parent[lastPart]; } break; case '$unset': /** * Removes the field from the object. It takes the form * `{ $unset: { field1: &quot;&quot; } }` * @name $unset * @memberOf module:documents/probe.updateOperators * @example * var probe = require(&quot;documents/probe&quot;); * probe.update( data, {'name.first' : 'Yogi'}, {$unset : {'name.first' : ''}} ); */ return delete parent[lastPart]; case '$pop': /** * The $pop operator removes the first or last element of an array. Pass $pop a value of 1 to remove the last element * in an array and a value of -1 to remove the first element of an array. This will only work on arrays. Syntax: * `{ $pop: { field: 1 } }` or `{ $pop: { field: -1 } }` * @name $pop * @memberOf module:documents/probe.updateOperators * @example * var probe = require(&quot;documents/probe&quot;); * // attr is the name of the array field * probe.update( data, {_id : '511d18827da2b88b09000133'}, {$pop : {attr : 1}} ); */ if ( sys.isArray( parent[lastPart] ) ) { if ( !sys.isNumber( newValue ) ) { newValue = 1; } if ( newValue === 1 ) { return parent[lastPart].pop(); } else { return parent[lastPart].shift(); } } break; case '$push': /** * The $push operator appends a specified value to an array. It looks like this: * `{ $push: { &lt;field&gt;: &lt;value&gt; } }` * @name $push * @memberOf module:documents/probe.updateOperators * @example * var probe = require(&quot;documents/probe&quot;); * // attr is the name of the array field * probe.update( data, {_id : '511d18827da2b88b09000133'}, * {$push : {attr : {&quot;hand&quot; : &quot;new&quot;, &quot;color&quot; : &quot;new&quot;}}} ); */ if ( sys.isArray( parent[lastPart] ) ) { return parent[lastPart].push( newValue ); } break; case '$pull': /** * The $pull operator removes all instances of a value from an existing array. It looks like this: * `{ $pull: { field: &lt;query&gt; } }` * @name $pull * @memberOf module:documents/probe.updateOperators * @example * var probe = require(&quot;documents/probe&quot;); * // attr is the name of the array field * probe.update( data, {'email' : 'EWallace.43@fauxprisons.com'}, * {$pull : {attr : {&quot;color&quot; : &quot;green&quot;}}} ); */ if ( sys.isArray( parent[lastPart] ) ) { keys = exports.findKeys( parent[lastPart], newValue ); sys.each( keys, function ( val, index ) { return delete parent[lastPart][index]; } ); parent[lastPart] = sys.compact( parent[lastPart] ); return parent[lastPart]; } } } } /** The query operations that evaluate directly from an operation @private **/ var operations = { /** * `$eq` performs a `===` comparison by comparing the value directly if it is an atomic value. * otherwise if it is an array, it checks to see if the value looked for is in the array. * `{field: value}` or `{field: {$eq : value}}` or `{array: value}` or `{array: {$eq : value}}` * @name $eq * @memberOf module:documents/probe.queryOperators * @example * var probe = require(&quot;documents/probe&quot;); * probe.find( data, {categories : &quot;cat1&quot;} ); * // is the same as * probe.find( data, {categories : {$eq: &quot;cat1&quot;}} ); */ $eq : function ( qu, value ) { if ( sys.isArray( value ) ) { return sys.find( value, function ( entry ) { return JSON.stringify( qu.operands[0] ) === JSON.stringify( entry ); } ) !== void 0; } else { return JSON.stringify( qu.operands[0] ) === JSON.stringify( value ); } }, /** * `$ne` performs a `!==` comparison by comparing the value directly if it is an atomic value. Otherwise, if it is an array * this is performs a &quot;not in array&quot;. * '{field: {$ne : value}}` or '{array: {$ne : value}}` * @name $ne * @memberOf module:documents/probe.queryOperators * @example * var probe = require(&quot;documents/probe&quot;); * probe.find( data, {&quot;name.first&quot; : {$ne : &quot;Sheryl&quot;}} ); */ $ne : function ( qu, value ) { if ( sys.isArray( value ) ) { return sys.find( value, function ( entry ) { return JSON.stringify( qu.operands[0] ) !== JSON.stringify( entry ); } ) !== void 0; } else { return JSON.stringify( qu.operands[0] ) !== JSON.stringify( value ); } }, /** * `$all` checks to see if all of the members of the query are included in an array * `{array: {$all: [val1, val2, val3]}}` * @name $all * @memberOf module:documents/probe.queryOperators * @example * var probe = require(&quot;documents/probe&quot;); * probe.find( data, {&quot;categories&quot; : {$all : [&quot;cat4&quot;, &quot;cat2&quot;, &quot;cat1&quot;]}} ); */ $all : function ( qu, value ) { var operands, result; result = false; if ( sys.isArray( value ) ) { operands = sys.flatten( qu.operands ); result = sys.intersection( operands, value ).length === operands.length; } return result; }, /** * `$gt` Sees if a field is greater than the value * `{field: {$gt: value}}` * @name $gt * @memberOf module:documents/probe.queryOperators * @example * var probe = require(&quot;documents/probe&quot;); * probe.find( data, {&quot;age&quot; : {$gt : 24}} ); */ $gt : function ( qu, value ) { return qu.operands[0] &lt; value; }, /** * `$gte` Sees if a field is greater than or equal to the value * `{field: {$gte: value}}` * @name $gte * @memberOf module:documents/probe.queryOperators * @example * var probe = require(&quot;documents/probe&quot;); * probe.find( data, {&quot;age&quot; : {$gte : 50}} ); */ $gte : function ( qu, value ) { return qu.operands[0] &lt;= value; }, /** * `$lt` Sees if a field is less than the value * `{field: {$lt: value}}` * @name $lt * @memberOf module:documents/probe.queryOperators * @example * var probe = require(&quot;documents/probe&quot;); * probe.find( data, {&quot;age&quot; : {$lt : 24}} ); */ $lt : function ( qu, value ) { return qu.operands[0] &gt; value; }, /** * `$lte` Sees if a field is less than or equal to the value * `{field: {$lte: value}}` * @name $lte * @memberOf module:documents/probe.queryOperators * @example * var probe = require(&quot;documents/probe&quot;); * probe.find( data, {&quot;age&quot; : {$lte : 50}} ); */ $lte : function ( qu, value ) { return qu.operands[0] &gt;= value; }, /** * `$in` Sees if a field has one of the values in the query * `{field: {$in: [test1, test2, test3,...]}}` * @name $in * @memberOf module:documents/probe.queryOperators * @example * var probe = require(&quot;documents/probe&quot;); * probe.find( data, {&quot;age&quot; : {$in : [24, 28, 60]}} ); */ $in : function ( qu, value ) { var operands; operands = sys.flatten( qu.operands ); return sys.indexOf( operands, value ) &gt; -1; }, /** * `$nin` Sees if a field has none of the values in the query * `{field: {$nin: [test1, test2, test3,...]}}` * @name $nin * @memberOf module:documents/probe.queryOperators * @example * var probe = require(&quot;documents/probe&quot;); * probe.find( data, {&quot;age&quot; : {$nin : [24, 28, 60]}} ); */ $nin : function ( qu, value ) { var operands; operands = sys.flatten( qu.operands ); return sys.indexOf( operands, value ) === -1; }, /** * `$exists` Sees if a field exists. * `{field: {$exists: true|false}}` * @name $exists * @memberOf module:documents/probe.queryOperators * @example * var probe = require(&quot;documents/probe&quot;); * probe.find( data, {&quot;name.middle&quot; : {$exists : true}} ); */ $exists : function ( qu, value ) { return (sys.isNull( value ) || sys.isUndefined( value )) !== qu.operands[0]; }, /** * Checks equality to a modulus operation on a field * `{field: {$mod: [divisor, remainder]}}` * @name $mod * @memberOf module:documents/probe.queryOperators * @example * var probe = require(&quot;documents/probe&quot;); * probe.find( data, {&quot;age&quot; : {$mod : [2, 0]}} ); */ $mod : function ( qu, value ) { var operands = sys.flatten( qu.operands ); if ( operands.length !== 2 ) { throw new Error( &quot;$mod requires two operands&quot; ); } var mod = operands[0]; var rem = operands[1]; return value % mod === rem; }, /** * Compares the size of the field/array to the query. This can be used on arrays, strings and objects (where it will count keys) * `{'field|array`: {$size: value}}` * @name $size * @memberOf module:documents/probe.queryOperators * @example * var probe = require(&quot;documents/probe&quot;); * probe.find( data, {attr : {$size : 3}} ); */ $size : function ( qu, value ) { return sys.size( value ) === qu.operands[0]; }, /** * Performs a regular expression test againts the field * `{field: {$regex: re, $options: reOptions}}` * @name $regex * @memberOf module:documents/probe.queryOperators * @example * var probe = require(&quot;documents/probe&quot;); * probe.find( data, {&quot;name.first&quot; : {$regex : &quot;m*&quot;, $options : &quot;i&quot;}} ); */ $regex : function ( qu, value ) { var r = new RegExp( qu.operands[0], qu.options ); return r.test( value ); }, /** * This is like $all except that it works with an array of objects or value. It checks to see the array matches all * of the conditions of the query * `{array: {$elemMatch: {path: value, path: {$operation: value2}}}` * @name $elemMatch * @memberOf module:documents/probe.queryOperators * @example * var probe = require(&quot;documents/probe&quot;); * probe.find( data, {attr : {$elemMatch : [ * {color : &quot;red&quot;, &quot;hand&quot; : &quot;left&quot;} * ]}} ); */ $elemMatch : function ( qu, value ) { var expression, test, _i, _len; if ( sys.isArray( value ) ) { var _ref = qu.operands; for ( _i = 0, _len = _ref.length; _i &lt; _len; _i++ ) { expression = _ref[_i]; if ( expression.path ) { expression.splitPath = splitPath( expression.path ); } } test = execQuery( value, qu.operands, null, true ).arrayResults; } return test.length &gt; 0; }, /** * Returns true if all of the conditions of the query are met * `{$and: [query1, query2, query3]}` * @name $and * @memberOf module:documents/probe.queryOperators * @example * var probe = require(&quot;documents/probe&quot;); * probe.find( data, {$and : [ * {&quot;name.first&quot; : &quot;Mildred&quot;}, * {&quot;name.last&quot; : &quot;Graves&quot;} * ]} ); */ $and : function ( qu, value, record ) { var isAnd = false; sys.each( qu.operands, function ( expr ) { if ( expr.path ) { expr.splitPath = expr.splitPath || splitPath( expr.path ); } var test = reachin( expr.splitPath, record, expr.operation ); isAnd = operations[expr.operation]( expr, test, record ); if ( !isAnd ) { return false; } } ); return isAnd; }, /** * Returns true if any of the conditions of the query are met * `{$or: [query1, query2, query3]}` * @name $or * @memberOf module:documents/probe.queryOperators * @example * var probe = require(&quot;documents/probe&quot;); * probe.find( data, {$or : [ * &quot;age&quot; : {$in : [24, 28, 60]}}, * {categories : &quot;cat1&quot;} * ]} ); */ $or : function ( qu, value, record ) { var isOr = false; sys.each( qu.operands, function ( expr ) { if ( expr.path ) { expr.splitPath = expr.splitPath || splitPath( expr.path ); } var test = reachin( expr.splitPath, record, expr.operation ); isOr = operations[expr.operation]( expr, test, record ); if ( isOr ) { return false; } } ); return isOr; }, /** * Returns true if none of the conditions of the query are met * `{$nor: [query1, query2, query3]}` * @name $nor * @memberOf module:documents/probe.queryOperators * @example * var probe = require(&quot;documents/probe&quot;); * probe.find( data, {$nor : [ * {&quot;age&quot; : {$in : [24, 28, 60]}}, * {categories : &quot;cat1&quot;} * ]} ); */ $nor : function ( qu, value, record ) { var isOr = false; sys.each( qu.operands, function ( expr ) { if ( expr.path ) { expr.splitPath = expr.splitPath || splitPath( expr.path ); } var test = reachin( expr.splitPath, record, expr.operation ); isOr = operations[expr.operation]( expr, test, record ); if ( isOr ) { return false; } } ); return !isOr; }, /** * Logical NOT on the conditions of the query * `{$not: [query1, query2, query3]}` * @name $not * @memberOf module:documents/probe.queryOperators * @example * var probe = require(&quot;documents/probe&quot;); * probe.find( data, {$not : {&quot;age&quot; : {$lt : 24}}} ); */ $not : function ( qu, value, record ) { var result = false; sys.each( qu.operands, function ( expr ) { if ( expr.path ) { expr.splitPath = expr.splitPath || splitPath( expr.path ); } var test = reachin( expr.splitPath, record, expr.operation ); result = operations[expr.operation]( expr, test, record ); if ( result ) { return false; } } ); return !result; } }; /** Executes a query by traversing a document and evaluating each record @private @param {array|object} obj The object to query @param {object} qu The query to execute @param {?boolean} shortCircuit When true, the condition that matches the query stops evaluation for that record, otherwise all conditions have to be met @param {?boolean} stopOnFirst When true all evaluation stops after the first record is found to match the conditons **/ function execQuery( obj, qu, shortCircuit, stopOnFirst ) { var arrayResults = []; var keyResults = []; sys.each( obj, function ( record, key ) { var expr, result, test, _i, _len; for ( _i = 0, _len = qu.length; _i &lt; _len; _i++ ) { expr = qu[_i]; if ( expr.splitPath ) { test = reachin( expr.splitPath, record, expr.operation ); } result = operations[expr.operation]( expr, test, record ); if ( result ) { arrayResults.push( record ); keyResults.push( key ); } if ( !result &amp;&amp; shortCircuit ) { break; } } if ( arrayResults.length &gt; 0 &amp;&amp; stopOnFirst ) { return false; } } ); return { arrayResults : arrayResults, keyResults : keyResults }; } /** Updates all records in obj that match the query. See {@link module:documents/probe.updateOperators} for the operators that are supported. @param {object|array} obj The object to update @param {object} qu The query which will be used to identify the records to updated @param {object} setDocument The update operator. See {@link module:documents/probe.updateOperators} */ exports.update = function ( obj, qu, setDocument ) { var records = exports.find( obj, qu ); return sys.each( records, function ( record ) { return sys.each( setDocument, function ( fields, operator ) { return sys.each( fields, function ( newValue, path ) { return pushin( splitPath( path ), record, operator, newValue ); } ); } ); } ); }; /** Find all records that match a query @param {array|object} obj The object to query @param {object} qu The query to execute. See {@link module:documents/probe.queryOperators} for the operators you can use. @returns {array} The results **/ exports.find = function ( obj, qu ) { var expression, _i, _len; var query = parseQueryExpression( qu ); for ( _i = 0, _len = query.length; _i &lt; _len; _i++ ) { expression = query[_i]; if ( expression.path ) { expression.splitPath = splitPath( expression.path ); } } return execQuery( obj, query ).arrayResults; }; /** Find all records that match a query and returns the keys for those items. This is similar to {@link module:documents/probe.find} but instead of returning records, returns the keys. If `obj` is an object it will return the hash key. If 'obj' is an array, it will return the index @param {array|object} obj The object to query @param {object} qu The query to execute. See {@link module:documents/probe.queryOperators} for the operators you can use. @returns {array} */ exports.findKeys = function ( obj, qu ) { var expression, _i, _len; var query = parseQueryExpression( qu ); for ( _i = 0, _len = query.length; _i &lt; _len; _i++ ) { expression = query[_i]; if ( expression.path ) { expression.splitPath = splitPath( expression.path ); } } return execQuery( obj, query ).keyResults; }; /** Returns the first record that matches the query. Aliased as `seek`. @param {array|object} obj The object to query @param {object} qu The query to execute. See {@link module:documents/probe.queryOperators} for the operators you can use. @returns {object} */ exports.findOne = function ( obj, qu ) { var expression, _i, _len; var query = parseQueryExpression( qu ); for ( _i = 0, _len = query.length; _i &lt; _len; _i++ ) { expression = query[_i]; if ( expression.path ) { expression.splitPath = splitPath( expression.path ); } } var results = execQuery( obj, query, false, true ).arrayResults; if ( results.length &gt; 0 ) { return results[0]; } else { return null; } }; exports.seek = exports.findOne; /** Returns the first record that matches the query and returns its key or index depending on whether `obj` is an object or array respectively. Aliased as `seekKey`. @param {array|object} obj The object to query @param {object} qu The query to execute. See {@link module:documents/probe.queryOperators} for the operators you can use. @returns {object} */ exports.findOneKey = function ( obj, qu ) { var expression, _i, _len; var query = parseQueryExpression( qu ); for ( _i = 0, _len = query.length; _i &lt; _len; _i++ ) { expression = query[_i]; if ( expression.path ) { expression.splitPath = splitPath( expression.path ); } } var results = execQuery( obj, query, false, true ).keyResults; if ( results.length &gt; 0 ) { return results[0]; } else { return null; } }; exports.seekKey = exports.findOneKey; /** Remove all items in the object/array that match the query @param {array|object} obj The object to query @param {object} qu The query to execute. See {@link module:documents/probe.queryOperators} for the operators you can use. @return {object|array} The array or object as appropriate without the records. **/ exports.remove = function ( obj, qu ) { var expression, _i, _len; var query = parseQueryExpression( qu ); for ( _i = 0, _len = query.length; _i &lt; _len; _i++ ) { expression = query[_i]; if ( expression.path ) { expression.splitPath = splitPath( expression.path ); } } var results = execQuery( obj, query, false, false ).keyResults; if ( sys.isArray( obj ) ) { var newArr = []; sys.each( obj, function ( item, index ) { if ( sys.indexOf( results, index ) === -1 ) { return newArr.push( item ); } } ); return newArr; } else { sys.each( results, function ( key ) { return delete obj[key]; } ); return obj; } }; /** Returns true if all items match the query @param {array|object} obj The object to query @param {object} qu The query to execute. See {@link module:documents/probe.queryOperators} for the operators you can use. @returns {boolean} **/ exports.all = function ( obj, qu ) { return exports.find( obj, qu ).length === sys.size( obj ); }; /** Returns true if any of the items match the query @param {array|object} obj The object to query @param {object} qu The query to execute. See {@link module:documents/probe.queryOperators} for the operators you can use. @returns {boolean} **/ exports.any = function ( obj, qu ) { var expression, _i, _len; var query = parseQueryExpression( qu ); for ( _i = 0, _len = query.length; _i &lt; _len; _i++ ) { expression = query[_i]; if ( expression.path ) { expression.splitPath = splitPath( expression.path ); } } var results = execQuery( obj, query, true, true ).keyResults; return results.length &gt; 0; }; /** Returns the set of unique records that match a query @param {array|object} obj The object to query @param {object} qu The query to execute. See {@link module:documents/probe.queryOperators} for the operators you can use. @return {array} **/ exports.unique = function ( obj, qu ) { var test = exports.find( obj, qu ); return sys.unique( test, function ( item ) { return JSON.stringify( item ); } ); }; /** This will write the value into a record at the path, creating intervening objects if they don't exist. This does not work as filtered update and is meant to be used on a single record. It is a nice way of setting a property at an arbitrary depth at will. @param {array} path The split path of the element to work with @param {object} record The record to reach into @param {string} setter The set operation. See {@link module:documents/probe.updateOperators} for the operators you can use. @param {object} newValue The value to write to the, or if the operator is $pull, the query of items to look for */ exports.set = function ( record, path, setter, newValue ) { return pushin( splitPath( path ), record, setter, newValue ); }; /** Reaches into an object and allows you to get at a value deeply nested in an object. This is not a query, but a straight reach in, useful for event bindings @param {array} path The split path of the element to work with @param {object} record The record to reach into @return {*} Whatever was found in the record **/ exports.get = function ( record, path ) { return reachin( splitPath( path ), record ); }; /** Returns true if any of the items match the query. Aliases as `any` @function @param {array|object} obj The object to query @param {object} qu The query to execute @returns {boolean} */ exports.some = exports.any; /** Returns true if all items match the query. Aliases as `all` @function @param {array|object} obj The object to query @param {object} qu The query to execute @returns {boolean} */ exports.every = exports.all; var bindables = { any : exports.any, all : exports.all, remove : exports.remove, seekKey : exports.seekKey, seek : exports.seek, findOneKey : exports.findOneKey, findOne : exports.findOne, findKeys : exports.findKeys, find : exports.find, update : exports.update, some : exports.some, every : exports.every, &quot;get&quot; : exports.get, &quot;set&quot; : exports.set }; /** Binds the query and update methods to a new object. When called these methods can skip the first parameter so that find(object, query) can just be called as find(query) @param {object|array} obj The object or array to bind to @return {object} An object with method bindings in place **/ exports.proxy = function ( obj ) { var retVal; retVal = {}; sys.each( bindables, function ( val, key ) { retVal[key] = sys.bind( val, obj, obj ); } ); return retVal; }; /** Binds the query and update methods to a specific object and adds the methods to that object. When called these methods can skip the first parameter so that find(object, query) can just be called as object.find(query) @param {object|array} obj The object or array to bind to @param {object|array=} collection If the collection is not the same as &lt;code&gt;this&lt;/code&gt; but is a property, or even a whole other object, you specify that here. Otherwise the &lt;code&gt;obj&lt;/code&gt; is assumed to be the same as the collecion **/ exports.mixin = function ( obj, collection ) { collection = collection || obj; return sys.each( bindables, function ( val, key ) { obj[key] = sys.bind( val, obj, collection ); } ); }; /** * These are the supported query operators * * @memberOf module:documents/probe * @name queryOperators * @class This is not actually a class, but an artifact of the documentation system */ /** * These are the supported update operators * * @memberOf module:documents/probe * @name updateOperators * @class This is not actually a class, but an artifact of the documentation system */ × Search results Close "},"documents_schema.js.html":{"id":"documents_schema.js.html","title":"Source: documents/schema.js","body":" DocStrap Modules basebase/chainsdocuments/binderdocuments/modeldocuments/probedocuments/schemaink/collectormixins/bussablemixins/signalablestrings/formatutils/logger Classes basebase/chainsdocuments/modeldocuments/probe.queryOperatorsdocuments/probe.updateOperatorsink/collector~ACollectorink/collector~CollectorBaseink/collector~OCollectormixins/signalable~Signalutils/logger.Logger Mixins documents/schemamixins/bussablemixins/signalable Tutorials Brush TeethDrive CarFence Test Source: documents/schema.js &quot;use strict&quot;; /** * @fileOverview Enables a schema and validation feature set to your document or other object. * @module documents/schema * @requires base * @requires jjv * @require lodash */ var sys = require( &quot;lodash&quot; ); var Validator = require( &quot;jjv&quot; ); var Base = require( &quot;../base&quot; ); /** * The validator mixin provides access to the features of the JSON validation system * @exports documents/schema * @mixin */ var Schema = Base.compose( [Base], /** @lends documents/schema# */{ constructor : function () { /** * The schema that defines the validation rules. This should probably be defined at the prototype for each * object or model classification. It can be an anonymous schema defined right here, or this can be * registered schema names to use, or just a single name * * @type {object} * @memberOf documents/schema# * @name schema */ /** * If you want to register multiple schemas, use this property instead * * @type {object} * @memberOf documents/schema# * @name schemas */ /** * The validation environment * @private * @type {jjv} */ var env = new Validator(); /** * The default name of the scheman when you use anonymous schemas. You can define this at the prototype for classified * schemas. The can also * * @type {string|function():{string}} * @memberOf documents/schema# * @name _defaultSchemaName */ this._defaultSchemaName = sys.result( this, &quot;_defaultSchemaName&quot; ) || sys.uniqueId( &quot;schema&quot; ); /** * The options to pass to the validator when it runs * @type {object|function():{object}} * @name validationOptions * @memberOf documents/schema# */ this.validationOptions = sys.defaults( {}, sys.result( this, 'validationOptions' ), {checkRequired : true} ); /** * Validate an object against the schema * @returns {object?} * @method * @name validate * @memberOf documents/schema# * @param {object=} record The record to validate * @param {string|object=} schemaName The name of a previously registered schema * @param {object=} options Options to pass to the validator * @example * // This supports these signatures: * * instance.validate(record, schemaName, options); * * * instance.validate(); // this, this._defaultSchemaName, this.validationOptions * instance.validate(record); // record, this._defaultSchemaName, this.validationOptions * instance.validate(schemaName); //this, schemaName, this.validationOptions * instance.validate(record, schemaName); //record, schemaName, this.validationOptions * instance.validate(schemaName, options); //this, schemaName, this.validationOptions */ this.validate = function ( record, schemaName, options ) { if ( arguments.length === 0 ) { record = this; schemaName = this._defaultSchemaName; options = this.validationOptions; } else { if ( sys.isString( record ) ) { schemaName = record; record = this; } if ( sys.isEmpty( options ) ) { options = this.validationOptions; } } return env.validate( schemaName, record, options ); }; /** * Initialize the schema collection by registering the with the handler. You can call this at any time and as often as you like. It will be called once * by the constructor on any instance schemas * @method * @name registerSchemas * @memberOf documents/schema# * @param {hash} schemas A hash of schemas where the key is the name of the schema */ this.registerSchemas = function ( schemas ) { var schema = sys.result( this, &quot;schema&quot; ); var schemas = schemas || sys.result( this, &quot;schemas&quot; ); if ( !sys.isEmpty( schema ) ) { env.addSchema( this._defaultSchemaName, schema ); } if ( !sys.isEmpty( schemas ) ) { sys.each( schemas, function ( val, key ) { env.addSchema( val, key ); } ); } }; /** * Extracts only the elements of the object that are defined in the schema * @memberOf documents/schema# * @name extract * @param {object=} record The record to extract from * @param {string=} schema The name of the schema to attach * @method */ this.extract = function ( record, schema ) { if ( arguments.length === 0 ) { record = this; schema = this._defaultSchemaName; } if ( sys.isString( record ) ) { schema = record; record = this; } }; /** * Create a type to be used in your schemas to define new validators * @memberOf documents/schema# * @name addType * @method * @param {string} name The name of the type * @param {function(object)} operation What to do with the type. * @param {object} operation.value The value to validation * @returns {boolean} */ this.addType = env.addType; /** * It is also possible to add support for additional string formats through the addFormat function. * @memberOf documents/schema# * @name addFormat * @method * @param {string} name The name of the formatter * @param {function(object)} formatter How to format it * @param {object} formatter.value The value to format * @returns {boolean} */ this.addFormat = env.addFormat; /** * It is possible to add support for custom checks (i.e., minItems, maxItems, minLength, maxLength, etc.) through the addCheck function * @memberOf documents/schema# * @name addCheck * @method * @param {string} name The name of the check * @param {function(...object)} formatter Perform the check * @param {object} formatter.value The value to check followed by any parameters from the schema * @returns {boolean} */ this.addCheck = env.addCheck; /** * Custom coercion rules * * @memberOf documents/schema# * @name addTypeCoercion * @method * @param {string} name The name of the coercion * @param {function(object)} coercer Perform the coercion * @param {object} coercer.value The value to coerce * @returns {boolean} */ this.addTypeCoercion = env.addTypeCoercion; /** * Get a registered schema by name * @param {string=} schemaName * @returns {object?} * @memberOf documents/schema# * @name getSchema * @method */ this.getSchema = function ( schemaName ) { if ( sys.isEmpty( schemaName ) || !sys.isString() ) { schemaName = this._defaultSchemaName; } return env.schema[schemaName]; } }, /** * This method will create a new object that contains only the fields and no methods or other artifacts. This is useful * for creating objects to pass over the wire or save in a table. This is not deeply copied, so changes made to the * extracted object will be represented in this class for reference objects. * * @param {string=} schema The schema name to use * @param {object=} src The object to extract fields from * @return {object} Data-only version of the class instance. */ extract : function ( schemaName, src ) { if ( sys.isObject( schemaName ) ) { src = schema; schemaName = this._defaultSchemaName; } if ( sys.isEmpty( src ) ) { src = this; } if ( sys.isFunction( src.toJSON ) ) { src = src.toJSON(); } var schema = this.getSchema( schemaName ) || {}; var newobj = {}; sys.each( schema.properties, function ( prop, propname ) { if ( prop.properties &amp;&amp; !sys.isUndefined( src[ propname ] ) ) { newobj[ propname ] = this.extract( prop, src[propname] ); } else if ( !sys.isUndefined( src[ propname ] ) ) { newobj[ propname ] = src[ propname ]; } }, this ); return newobj; }, /** * Builds a default document based on the schema. What this does is create a document from schema and for each property * that has a default value or is required, the resultant object will contain that property. It is useful for extending * values from some source that may be incomplete, like options or some such. * @param {json-schema} schema A schema to use to create the default document * @returns {object?} * @name defaultDoc * @memberOf documents/schema# * @method */ defaultDoc : function ( schemaName ) { if ( sys.isEmpty( schemaName ) ) { schemaName = this._defaultSchemaName; } var newdoc = {}; var schema; if ( sys.isObject( schemaName ) ) { schema = schemaName; } else { schema = this.getSchema( schemaName ) || {}; } sys.each( schema.properties, function ( val, key ) { var def = val[ &quot;default&quot; ]; // keyword and all that if ( val.type === &quot;object&quot; &amp;&amp; !sys.isEmpty( val.properties ) ) { newdoc[ key ] = this.defaultDoc( val ); } else { if ( sys.isFunction( def ) || sys.isBoolean( def ) || sys.isNumber( def ) || !sys.isEmpty( def ) ) { if ( sys.isFunction( def ) ) { newdoc[ key ] = def( schema ); } else { newdoc[ key ] = def; } } else if ( val.required ) { if ( val.type === 'string' ) { newdoc[ key ] = null; } else if ( val.type === 'object' ) { newdoc[ key ] = {}; } else if ( val.type === 'array' ) { newdoc[ key ] = []; } else { newdoc[ key ] = null; } } } }, this ); return newdoc; } } ); module.exports = Schema; × Search results Close "},"mixins_bussable.js.html":{"id":"mixins_bussable.js.html","title":"Source: mixins/bussable.js","body":" DocStrap Modules basebase/chainsdocuments/binderdocuments/modeldocuments/probedocuments/schemaink/collectormixins/bussablemixins/signalablestrings/formatutils/logger Classes basebase/chainsdocuments/modeldocuments/probe.queryOperatorsdocuments/probe.updateOperatorsink/collector~ACollectorink/collector~CollectorBaseink/collector~OCollectormixins/signalable~Signalutils/logger.Logger Mixins documents/schemamixins/bussablemixins/signalable Tutorials Brush TeethDrive CarFence Test Source: mixins/bussable.js &quot;use strict&quot;; /** * @fileOverview Provides easy access to the system bus and provides some helper methods for doing so * @module mixins/bussable * @requires postal * @requires lodash * @requires base */ var bus = require( &quot;postal&quot; ); var Base = require( &quot;../base&quot; ); var sys = require( &quot;lodash&quot; ); /** * @classDesc Provides easy access to the system bus and provides some helper methods for doing so * @exports mixins/bussable * @mixin */ var Bussable = Base.compose( [Base], /** @lends mixins/bussable# */{ declaredClass : &quot;mixins/Bussable&quot;, constructor : function () { /** * The list of subscriptions maintained by the mixin * @type {Array} * @memberof mixins/bussable# * @name _subscriptions * @private */ this._subscriptions = {}; this.log.trace( &quot;Bussable constructor&quot; ); }, /** * Subscribe to an event * @param {string} channel The channel to subscribe to * @param {string} topic The topic to subscribe to * @param {callback} callback What to do when you get the event * @returns {object} The subscription definition */ subscribe : function ( channel, topic, callback ) { this.log.trace( &quot;Bussable subscribe&quot; ); var sub = bus.subscribe( {channel : channel, topic : topic, callback : callback} ); this.subscriptions[channel + &quot;.&quot; + topic] = sub; return sub; }, /** * Subscribe to an event once * @param {string} channel The channel to subscribe to * @param {string} topic The topic to subscribe to * @param {callback} callback What to do when you get the event * @returns {object} The subscription definition */ once : function ( channel, topic, callback ) { this.log.trace( &quot;Bussable once&quot; ); var sub = this.subscribe( channel, topic, callback ); this.subscriptions[channel + &quot;.&quot; + topic] = sub; sub.disposeAfter( 1 ); return sub; }, /** * Publish an event on the system bus * @param {string} channel The channel to publish to * @param {string} topic The topic to publish to * @param {object=} options What to pass to the event */ publish : function ( channel, topic, options ) { this.log.trace( &quot;Bussable publish&quot; ); bus.publish( {channel : channel, topic : topic, data : options} ); }, /** * Get a subscription definition * * @param {string} channel * @param {string} topic * @returns {object=} The subscription definition */ getSubscription : function ( channel, topic ) { this.log.trace( &quot;Bussable getSubscription&quot; ); return this.subscriptions[channel + &quot;.&quot; + topic]; }, /** * Gets rid of all subscriptions for this object. * @private */ destroy : function () { this.log.trace( &quot;Bussable destroy&quot; ); sys.each( this.subscriptions, function ( sub ) { sub.unsubscribe(); } ); } } ); module.exports = Bussable; × Search results Close "},"mixins_signalable.js.html":{"id":"mixins_signalable.js.html","title":"Source: mixins/signalable.js","body":" DocStrap Modules basebase/chainsdocuments/binderdocuments/modeldocuments/probedocuments/schemaink/collectormixins/bussablemixins/signalablestrings/formatutils/logger Classes basebase/chainsdocuments/modeldocuments/probe.queryOperatorsdocuments/probe.updateOperatorsink/collector~ACollectorink/collector~CollectorBaseink/collector~OCollectormixins/signalable~Signalutils/logger.Logger Mixins documents/schemamixins/bussablemixins/signalable Tutorials Brush TeethDrive CarFence Test Source: mixins/signalable.js &quot;use strict&quot;; /** * @fileOverview Add the ability to fire signals on your objects. Signals are events, but hard coded into the object * and don't rely on strings like other events and `eventables` * @module mixins/signalable * @requires base * @requires signals * @requires base/logger */ var Base = require( &quot;../base&quot; ); var signals = require( 'signals' ); var format = require( &quot;../strings/format&quot; ); var sys = require( &quot;lodash&quot; ); /** * @typedef * @property {boolean=} memorize If Signal should keep record of previously dispatched parameters and automatically execute listener. Defaults to `false` * @property {array=} params Default parameters passed to listener during `Signal.raise`/`Signal.fire`/`Signal.trigger` and SignalBinding.execute. (curried parameters). Defaults to `null` * @property {object=} context When provided the signal will be raised in the context of this object. Defaults to `this` - the signal host * @name SignalOptions * @memberOf module:mixins/signalable * @example * * signals:{ * opened: null, * twisted: { memorize:true }, * applied: { memorize: false, params:[one, two] } * } * * // Setting the context initially can be a hassle, so this also supports a function that returns a hash * * signals: function(){ * return { * opened: null, * twisted: { memorize:true }, * applied: { memorize: false, params:[one, two] }, * reversed: {context: someOtherRuntimeObject} * }; * } * */ /** * @classDesc A signal that can be raised on an object. When you deploy the `Signalable` mixin, it * creates instances of these for you. * * @constructor * @param {?object} host If hosted, you can identify the host here. * @param {?string} name The name of the signal * @type module:mixins/signalable.SignalOptions */ var Signal = Base.compose( [Base, signals.Signal], /** @lends module:mixins/signalable~Signal# */{ declaredClass : &quot;mixins/Signal&quot;, constructor : function ( host, name, options ) { options = options || {}; this.memorize = options.memorize === true; this.host = host; this.trigger = this.fire = this.raise = this.dispatch; this.name = name || sys.uniqueId( &quot;signal&quot; ); this.params = options.params; this.defaultContext = options.context; }, /** * Cleans up * @private */ destroy : function () { this.removeAll(); this.dispose(); this.host = null; }, /** * Ties a listener to a signal. * @param {function} listener The function to call when the signal is raised * @param {?object} listenerContext A context to set for the listener. The event host may set a default for this value, but you may override that here. * @param {?number} priority A priority for the listener. * @returns {SignalBinding} */ on : function ( listener, listenerContext, priority ) { if ( sys.isNumber( listenerContext ) ) { priority = listenerContext; listenerContext = null; } listenerContext = listenerContext || this.defaultContext || this.host; var binding = this.add( listener, listenerContext, priority ); if ( this.options.params ) { binding.params = this.arams; } return binding; }, /** * Ties a listener to for a signal for one execution. * @param {function} listener The function to call when the signal is raised * @param {?object} listenerContext A context to set for the listener. The event host may set a default for this value, but you may override that here. * @param {?number} priority A priority for the listener. * @returns {SignalBinding} */ once : function ( listener, listenerContext, priority ) { if ( sys.isNumber( listenerContext ) ) { priority = listenerContext; listenerContext = null; } listenerContext = listenerContext || this.defaultContext || this.host; var binding = this.addOnce( listener, listenerContext, priority ); if ( this.options.params ) { binding.params = this.params; } return binding; }, /** * Unbinds a listener to a signal. * @param {function} listener The function to unbind * @param {?object} listenerContext The context that was bound * @returns {function} */ off : function ( listener, listenerContext ) { listenerContext = listenerContext || this.host; return this.remove( listener, listenerContext ); }, /** * Check if listener was attached to Signal. * @param {function} listener The function to check * @param {?object} listenerContext The context that was bound * @returns {boolean} */ has : function ( listener, listenerContext ) { listenerContext = listenerContext || this.defaultContext || this.host; return this.remove( listener, listenerContext ); }, /** * Strings! */ toString : function () { return format( &quot;{0}\\nname:{1}\\nlisteners:{2}&quot;, this.declaredClass, this.name, this.getNumListeners() ); } } ); /** * @classDesc Make an object capable of handling a signal. Or many signals. * @exports mixins/signalable * @mixin * @extends base */ var Signalable = Base.compose( [Base], /** @lends mixins/signalable# */{ declaredClass : &quot;mixins/Signalable&quot;, constructor : function () { this.autoLoadSignals = this.autoLoadSignals || true; if ( this.autoLoadSignals === true ) { this._loadSignals(); } }, /** * When you make a change to the signals hash after loading, then you can make it reload */ refreshSignals : function () { this._loadSignals(); }, /** * Interprets the `signals` hash and instantiates it * @private */ _loadSignals : function () { var signals = this.signals || {}; sys.each( signals, function ( value, key ) { var opts = {}; if ( !sys.isEmpty( value ) ) { if ( sys.isBoolean( value.memorize ) ) { opts.memorize = value.memorize; } if ( sys.isBoolean( value.params ) ) { opts.params = value.params; } if ( !sys.isEmpty( value.context ) ) { opts.context = value.context; } } this._addSignal( key, opts ); } ); }, /** * Creates a single signal * @param {string} name The name of the signal * @param {module:mixins/signalable~SignalOptions} options The options the signal expects * @private */ _addSignal : function ( name, options ) { if ( sys.isEmpty( this[name] ) ) { this[name] = new Signal( this, name, options ); } }, /** * Add a signal to an object. If any members of the hash already exist in `this.signals`, they will be overwritten. * @param {module:mixins/signalable.SignalOptions} signals * @private */ _addSignals : function ( signals ) { signals = signals || {}; if ( this.options ) {signals = sys.extend( {}, sys.result( this, 'signals' ), signals );} this.signals = signals; }, /** * Clean up * @private */ destroy : function () { sys.each( sys.keys( this ), function ( key ) { if ( this[key] instanceof Signal || this[key] instanceof signals.Signal ) { this[key].close(); } }, this ); } } ); module.exports = Signalable; alable.Signal = Signal; Signalable.mixin = Base.mixin; /** * When true, the class will load the `signals` hash and create the signal definitions during construction * @memberOf mixins/signalable# * @name autoLoadSignals * @type boolean */ /** * A hash of signals to create automatically. Each definition consists of a name for the signal as the key * and then a hash of options (nullable) for each signal * @type {hash|function():hash} * @memberOf mixins/signalable# * @name signals * @type module:mixins/signalable.SignalOptions */ × Search results Close "},"documents_binder.js.html":{"id":"documents_binder.js.html","title":"Source: documents/binder.js","body":" DocStrap Modules basebase/chainsdocuments/binderdocuments/modeldocuments/probedocuments/schemaink/collectormixins/bussablemixins/signalablestrings/formatutils/logger Classes basebase/chainsdocuments/modeldocuments/probe.queryOperatorsdocuments/probe.updateOperatorsink/collector~ACollectorink/collector~CollectorBaseink/collector~OCollectormixins/signalable~Signalutils/logger.Logger Mixins documents/schemamixins/bussablemixins/signalable Tutorials Brush TeethDrive CarFence Test Source: documents/binder.js &quot;use strict&quot;; /** * @fileOverview allows you to bind a change watcher that looks for get and set operations on an arbitrary * property of an object at at any depth. This allows you to look for changes or intercept values asynchronously or otherwise. * @module documents/binder * @requires async * @requires documents/probe * @requires lodash * @requires promise */ var Promise = require( 'promise' ); var async = require( &quot;async&quot; ); var probe = require( &quot;./probe&quot; ); var sys = require( &quot;lodash&quot; ); /** * Identifies the properties that the binder expects * @type {{getter: null, getterAsync: boolean, setter: null, validator: null, validatorAsync: boolean, setterAsync: boolean}} * @private */ var dataBinderOptions = exports.dataBinderOptions = { getter : null, getterAsync : false, setter : null, validator : null, validatorAsync : false, setterAsync : false }; /** * You can unbind previously bound objects from here. * * @param {string} path The path that was bound using {@link module:documents/binder.bind} * @param {*} record The object that was bound */ exports.unbind = function ( path, record ) { var context = record; var lastParent = context; var parts = path.split( probe.delimiter ); var lastPartName = path; var lastParentName; sys.each( parts, function ( part ) { lastParentName = part; lastParent = context; context = context[part]; lastPartName = part; if ( sys.isNull( context ) || sys.isUndefined( context ) ) { context = {}; } } ); if ( lastParent === context ) { deleteBindings( record, lastPartName ); } else { deleteBindings( lastParent, lastPartName ); } function deleteBindings( mountPoint, mountName ) { mountPoint[mountName] = mountPoint[&quot;__&quot; + mountName + &quot;__&quot;]; delete mountPoint[&quot;__&quot; + mountName + &quot;__&quot;]; } }; /** * Bind to a property somewhere in an object. The property is found using dot notation and can be arbitrarily deep. * @param {string} path The path into the object to locate the property. For instance this could be `&quot;_id&quot;`, `&quot;name.last&quot;`. * or `&quot;some.really.really.long.path.including.an.array.2.name&quot;` * @param {object} record Anything you can hang a property off of * @param {options} options What you wanna do with the doohicky when yoyu bind it. * @param {function(*):Promise|*=} options.getter This is the method to run when getting the value. When it runs, you will receive * a single parameter which is the current value as the object understands it. You can return the value directly, just raise an event or * whatever your little heart demands. However, if you are asynchronous, this will turn your return value into a promise, one of the * few places this system will embrace promises over node-like error passing and that is mainly because this is a getter so a return value * is particularly important. * * @param {*} options.getter.value The current value of the record * @param {function(err, value)=} options.getter.callback When asynchronous, return you value through this method using node style * error passing (the promise is handled for you by this method). * @param {boolean=} options.getterAsync When true (not truthy) the getter is treated asynchronously and returns a promise with your value. * @param {function(*, *, *)=} options.setter A setter method * @param {*} options.setter.newVal The new value * @param {*} options.setter.oldVal The old value * @param {*} options.setter.record The record hosting the change * @param {function(*, *, *, function=)=} options.validator If you want a validator to run before settings values, pass this guy in * @param {*} options.validator.newVal The new value * @param {*} options.validator.oldVal The old value * @param {*} options.validator.record The record hosting the change * @param {function(err)=} options.validator.callback If the validator is asynchronous, then pass your value back here, otherwise pass it back as a return value. * When you use an asynchronous instance, pass the error in the first value and then the rest of the parameters are yours to play with * @param {boolean=} options.validatorAsync When true (not truthy) the validator is treated asynchornously and returns a promise with your value. * @returns {*} */ exports.bind = function ( path, record, options ) { options = sys.extend( {}, dataBinderOptions, options ); var context = record; var lastParent = context; var parts = path.split( probe.delimiter ); var lastPartName = path; var lastParentName; sys.each( parts, function ( part ) { lastParentName = part; lastParent = context; context = context[part]; lastPartName = part; if ( sys.isNull( context ) || sys.isUndefined( context ) ) { context = {}; } } ); if ( lastParent === context ) { setUpBindings( record, lastPartName ); } else { setUpBindings( lastParent, lastPartName ); } function setUpBindings( mountPoint, mountName ) { mountPoint[&quot;__&quot; + mountName + &quot;__&quot;] = mountPoint[mountName]; Object.defineProperty( mountPoint, mountName, { get : function () { if ( sys.isFunction( options.getter ) ) { var promise; if ( options.getterAsync === true ) { promise = Promise.denodeify( options.getter ); } if ( promise ) { return promise( mountPoint[&quot;__&quot; + mountName + &quot;__&quot;] ).then( function ( val ) { mountPoint[&quot;__&quot; + mountName + &quot;__&quot;] = val; } ); } else { mountPoint[&quot;__&quot; + mountName + &quot;__&quot;] = options.getter( mountPoint[&quot;__&quot; + mountName + &quot;__&quot;] ); return mountPoint[&quot;__&quot; + mountName + &quot;__&quot;]; } } else { return mountPoint[&quot;__&quot; + mountName + &quot;__&quot;]; } }, set : function ( val ) { async.waterfall( [ function ( done ) { if ( sys.isFunction( options.validator ) ) { if ( options.validatorAsync ) { options.validator( val, mountPoint[&quot;__&quot; + mountName + &quot;__&quot;], record, done ); } else { var res = options.validator( val, mountPoint[&quot;__&quot; + mountName + &quot;__&quot;], record ); if ( res === true ) { done(); } else { done( res ); } } } else { done(); } }, function ( done ) { if ( sys.isFunction( options.setter ) ) { if ( options.setterAsync === true ) { options.setter( val, mountPoint[&quot;__&quot; + mountName + &quot;__&quot;], record, done ); } else { done( null, options.setter( val, mountPoint[&quot;__&quot; + mountName + &quot;__&quot;], record ) ); } } else { done( null, val ); } } ], function ( err, newVal ) { if ( err ) { throw new Error( err ); } mountPoint[&quot;__&quot; + mountName + &quot;__&quot;] = newVal; } ); } } ); } return context; }; × Search results Close "},"documents_collector.js.html":{"id":"documents_collector.js.html","title":"Source: documents/collector.js","body":" DocStrap Modules basebase/chainsdocuments/binderdocuments/modeldocuments/probedocuments/schemaink/collectormixins/bussablemixins/signalablestrings/formatutils/logger Classes basebase/chainsdocuments/modeldocuments/probe.queryOperatorsdocuments/probe.updateOperatorsink/collector~ACollectorink/collector~CollectorBaseink/collector~OCollectormixins/signalable~Signalutils/logger.Logger Mixins documents/schemamixins/bussablemixins/signalable Tutorials Brush TeethDrive CarFence Test Source: documents/collector.js &quot;use strict&quot;; /** @fileOverview An object and array collector @module ink/collector */ var probe = require( &quot;ink-probe&quot; ); var sys = require( &quot;lodash&quot; ); var dcl = require( &quot;dcl&quot; ); /** * A collector * @constructor */ var CollectorBase = dcl( Destroyable, { declaredClass : &quot;CollectorBase&quot;, constructor : function ( obj ) { var that = this; if ( obj &amp;&amp; !sys.isObject( obj ) ) { throw new TypeError( &quot;Collectors require an initial object or array passed to the constructor&quot; ); } /** * The collection that being managed * @type {object|array} */ this.heap = obj || {}; // mixin the probe probe.mixTo( this, this.heap ); /** * Get the size of the collection * @name length * @type {number} * @memberOf module:documents/collector~CollectorBase# */ Object.defineProperty( this, &quot;length&quot;, { get : function () { return sys.size( that.heap ); } } ); /** * Creates an array of shuffled array values, using a version of the Fisher-Yates shuffle. * See http://en.wikipedia.org/wiki/Fisher-Yates_shuffle. * @function * @memberOf module:documents/collector~CollectorBase# * @returns {array} */ this.shuffle = sys.bind( sys.shuffle, this, this.heap ); }, /** * Adds an item to the collection * @param {*} key The key to use for the item being added. * @param {*} item The item to add to the collection. The item is not iterated so that you could add bundled items to the collection */ add : function ( key, item ) { this.heap[key] = item; }, /** * Iterate over each item in the collection, or a subset that matches a query. This supports two signatures: * `.each(query, function)` and `.each(function)`. If you pass in a query, only the items that match the query * are iterated over. * @param {object=} query A query to evaluate * @param {function(val, key)} iterator Function to execute against each item in the collection * @param {object=} thisobj The value of `this` */ each : function ( query, iterator, thisobj ) { if ( sys.isPlainObject( query ) ) { thisobj = thisobj || this; sys.each( this.find( query ), iterator, thisobj ); } else { thisobj = iterator || this; sys.each( this.heap, query, thisobj ); } }, /** * Returns the collection as an array. If it is already an array, it just returns that. * @return {array} */ toArray : function () { return sys.toArray( this.heap ); }, /** * Supports conversion to a JSON string or for passing over the wire * @return {object} * @returns {Object|array} */ toJSON : function () { return this.heap; }, /** * Maps the contents to an array by iterating over it and transforming it. You supply the iterator. Supports two signatures: * `.map(query, function)` and `.map(function)`. If you pass in a query, only the items that match the query * are iterated over. * @param {object=} query A query to evaluate * @param {function(val, key)} iterator Function to execute against each item in the collection * @param {object=} thisobj The value of `this` */ map : function ( query, iterator, thisobj ) { if ( sys.isPlainObject( query ) ) { thisobj = thisobj || this; return sys.map( this.find( query ), iterator, thisobj ); } else { thisobj = iterator || this; return sys.map( this.heap, query, thisobj ); } }, /** * Reduces a collection to a value which is the accumulated result of running each element in the collection through the * callback, where each successive callback execution consumes the return value of the previous execution. If accumulator * is not passed, the first element of the collection will be used as the initial accumulator value. * are iterated over. * @param {object=} query A query to evaluate * @param {function(result, val, key)} iterator The function that will be executed in each item in the collection * @param {*=} accumulator Initial value of the accumulator. * @param {object=} thisobj The value of `this` * @return {*} */ reduce : function ( query, iterator, accumulator, thisobj ) { if ( sys.isPlainObject( query ) ) { thisobj = thisobj || this; return sys.reduce( this.find( query ), iterator, accumulator, thisobj ); } else { thisobj = accumulator || this; return sys.reduce( this.heap, query, iterator, thisobj ); } }, /** * Creates an object composed of keys returned from running each element * of the collection through the given callback. The corresponding value of each key * is the number of times the key was returned by the callback. * @param {object=} query A query to evaluate. If you pass in a query, only the items that match the query * are iterated over. * @param {function(value, key, collection)} iterator * @param {object=} thisobj The value of `this` * @return {object} */ countBy : function ( query, iterator, thisobj ) { if ( sys.isPlainObject( query ) ) { thisobj = thisobj || this; return sys.countBy( this.find( query ), iterator, thisobj ); } else { thisobj = iterator || this; return sys.countBy( this.heap, query, thisobj ); } }, /** * Creates an object composed of keys returned from running each element of the collection through the callback. * The corresponding value of each key is an array of elements passed to callback that returned the key. * The callback is invoked with three arguments: (value, index|key, collection). * @param {object=} query A query to evaluate . If you pass in a query, only the items that match the query * are iterated over. * @param {function(value, key, collection)} iterator * @param {object=} thisobj The value of `this` * @return {object} */ groupBy : function ( query, iterator, thisobj ) { if ( sys.isPlainObject( query ) ) { thisobj = thisobj || this; return sys.groupBy( this.find( query ), iterator, thisobj ); } else { thisobj = iterator || this; return sys.groupBy( this.heap, query, thisobj ); } }, /** * Reduce the collection to a single value. Supports two signatures: * `.pluck(query, function)` and `.pluck(function)` * @param {object=} query The query to evaluate. If you pass in a query, only the items that match the query * are iterated over. * @param {string} property The property that will be 'plucked' from the contents of the collection * @return {*} */ pluck : function ( query, property ) { if ( arguments.length === 2 ) { return sys.map( this.find( query ), function ( record ) { return probe.get( record, property ); } ); } else { return sys.map( this.heap, function ( record ) { return probe.get( record, query ); } ); } }, /** * Returns a sorted copy of the collection. * @param {object=} query The query to evaluate. If you pass in a query, only the items that match the query * are iterated over. * @param {function(value, key)} iterator * @param {object=} thisobj The value of `this` * @return {array} */ sortBy : function ( query, iterator, thisobj ) { if ( sys.isPlainObject( query ) ) { thisobj = thisobj || this; return sys.sortBy( this.find( query ), iterator, thisobj ); } else { thisobj = iterator || this; return sys.sortBy( this.heap, query, thisobj ); } }, /** * Retrieves the maximum value of an array. If callback is passed, * it will be executed for each value in the array to generate the criterion by which the value is ranked. * @param {object=} query A query to evaluate . If you pass in a query, only the items that match the query * are iterated over. * @param {function(value, key, collection)} iterator * @param {object=} thisobj The value of `this` * @return {number} */ max : function ( query, iterator, thisobj ) { if ( sys.isPlainObject( query ) ) { thisobj = thisobj || this; return sys.max( this.find( query ), iterator, thisobj ); } else { thisobj = iterator || this; return sys.max( this.heap, query, thisobj ); } }, /** * Retrieves the minimum value of an array. If callback is passed, * it will be executed for each value in the array to generate the criterion by which the value is ranked. * @param {object=} query A query to evaluate . If you pass in a query, only the items that match the query * are iterated over. * @param {function(value, key, collection)} iterator * @param {object=} thisobj The value of `this` * @return {number} */ min : function ( query, iterator, thisobj ) { if ( sys.isPlainObject( query ) ) { thisobj = thisobj || this; return sys.min( this.find( query ), iterator, thisobj ); } else { thisobj = iterator || this; return sys.min( this.heap, query, thisobj ); } }, /** * Destructor called when the object is destroyed. */ destroy : function () { this.heap = null; } } ); /** * An object based collector * @extends module:documents/collector~CollectorBase * @constructor */ var OCollector = dcl( CollectorBase, { /** * Get a record by key * @param {*} key The key of the record to get * @return {*} */ key : function ( key ) { return this.heap[key]; } } ); //noinspection JSCommentMatchesSignature /** An array based collector @extends module:documents/collector~CollectorBase @constructor */ var ACollector = dcl( CollectorBase, { constructor : function ( obj ) { if ( obj &amp;&amp; !sys.isArray( obj ) ) { throw new TypeError( &quot;Collectors require an array passed to the constructor&quot; ); } this.heap = obj || []; /** * Creates an array of array elements not present in the other arrays using strict equality for comparisons, i.e. ===. * @returns {array} */ this.difference = sys.bind( sys.difference, this, this.heap ); /** * This method gets all but the first values of array * @param {number=} n The numer of items to return * @returns {*} */ this.tail = sys.bind( sys.tail, this, this.heap ); /** * Gets the first n values of the array * @param {number=} n The numer of items to return * @returns {*} */ this.head = sys.bind( sys.head, this, this.heap ); }, /** * Adds to the top of the collection * @param {*} item The item to add to the collection. Only one item at a time can be added */ add : function ( item ) { this.heap.unshift( item ); }, /** * Add to the bottom of the list * @param {*} item The item to add to the collection. Only one item at a time can be added */ append : function ( item ) { this.heap.push( item ); }, /** * Add an item to the top of the list. This is identical to `add`, but is provided for stack semantics * @param {*} item The item to add to the collection. Only one item at a time can be added */ push : function ( item ) { this.add( item ); }, /** * Modifies the collection with all falsey values of array removed. The values false, null, 0, &quot;&quot;, undefined and NaN are all falsey. */ compact : function () { this.heap = sys.compact( this.heap ); }, /** * Creates an array of elements from the specified indexes, or keys, of the collection. Indexes may be specified as * individual arguments or as arrays of indexes * @param {indexes} args The indexes to use */ at : function () { var arr = sys.toArray( arguments ); arr.unshift( this.heap ); return sys.at.apply( this, arr ); }, /** * Flattens a nested array (the nesting can be to any depth). If isShallow is truthy, array will only be flattened a single level. * If callback is passed, each element of array is passed through a callback before flattening. * @param {object=} query A query to evaluate . If you pass in a query, only the items that match the query * are iterated over. * @param {function(value, key, collection)} iterator, * @param {object=} thisobj The value of `this` * @return {number} */ flatten : function ( query, iterator, thisobj ) { if ( sys.isPlainObject( query ) ) { thisobj = thisobj || this; return sys.flatten( this.find( query ), iterator, thisobj ); } else { thisobj = iterator || this; return sys.flatten( this.heap, query, thisobj ); } }, /** * Gets an items by its index * @param {number} key The index to get * @return {*} */ index : function ( index ) { return this.heap[ index ]; } } ); /** Collect an object @param {array|object} obj What to collect @return {ACollector|OCollector} */ exports.collect = function ( obj ) { if ( sys.isArray( obj ) ) { return new ACollector( obj ); } else { return new OCollector( obj ); } }; exports.array = function ( obj ) { return new ACollector( obj ); }; exports.object = function ( obj ) { return new OCollector( obj ); }; /** Returns true if all items match the query. Aliases as `all` @function @param {object} qu The query to execute @returns {boolean} @name every @memberOf module:documents/collector~CollectorBase# */ /** Returns true if any of the items match the query. Aliases as `any` @function @param {object} qu The query to execute @returns {boolean} @memberOf module:documents/collector~CollectorBase# @name some */ /** Returns the set of unique records that match a query @param {object} qu The query to execute. @return {array} @memberOf module:documents/collector~CollectorBase# @name unique @method **/ /** Returns true if all items match the query. Aliases as `every` @function @param {object} qu The query to execute @returns {boolean} @name all @memberOf module:documents/collector~CollectorBase# */ /** Returns true if any of the items match the query. Aliases as `all` @function @param {object} qu The query to execute @returns {boolean} @memberOf module:documents/collector~CollectorBase# @name any */ /** Remove all items in the object/array that match the query @param {object} qu The query to execute. See {@link module:ink/probe.queryOperators} for the operators you can use. @return {object|array} The array or object as appropriate without the records. @memberOf module:documents/collector~CollectorBase# @name remove @method **/ /** Returns the first record that matches the query and returns its key or index depending on whether `obj` is an object or array respectively. Aliased as `seekKey`. @param {object} qu The query to execute. @returns {object} @memberOf module:documents/collector~CollectorBase# @name findOneKey @method */ /** Returns the first record that matches the query. Aliased as `seek`. @param {object} qu The query to execute. @returns {object} @memberOf module:documents/collector~CollectorBase# @name findOne @method */ /** Find all records that match a query and returns the keys for those items. This is similar to {@link module:ink/probe.find} but instead of returning records, returns the keys. If `obj` is an object it will return the hash key. If 'obj' is an array, it will return the index @param {object} qu The query to execute. @returns {array} @memberOf module:documents/collector~CollectorBase# @name findKeys @method */ /** Find all records that match a query @param {object} qu The query to execute. @returns {array} The results @memberOf module:documents/collector~CollectorBase# @name find @method **/ /** Updates all records in obj that match the query. See {@link module:ink/probe.updateOperators} for the operators that are supported. @param {object} qu The query which will be used to identify the records to updated @param {object} setDocument The update operator. See {@link module:ink/probe.updateOperators} @memberOf module:documents/collector~CollectorBase# @name update @method */ × Search results Close "},"strings_format.js.html":{"id":"strings_format.js.html","title":"Source: strings/format.js","body":" DocStrap Modules basebase/chainsdocuments/binderdocuments/modeldocuments/probedocuments/schemaink/collectormixins/bussablemixins/signalablestrings/formatutils/logger Classes basebase/chainsdocuments/modeldocuments/probe.queryOperatorsdocuments/probe.updateOperatorsink/collector~ACollectorink/collector~CollectorBaseink/collector~OCollectormixins/signalable~Signalutils/logger.Logger Mixins documents/schemamixins/bussablemixins/signalable Tutorials Brush TeethDrive CarFence Test Source: strings/format.js &quot;use strict&quot;; /** * @fileOverview String helper methods * * @module strings/format */ /** * Format a string quickly and easily using .net style format strings * @param {string} format A string format like &quot;Hello {0}, now take off your {1}!&quot; * @param {...?} args One argument per `{}` in the string, positionally replaced * @returns {string} * * @example * var strings = require(&quot;papyrus/strings&quot;); * var s = strings.format(&quot;Hello {0}&quot;, &quot;Madame Vastra&quot;); * // s = &quot;Hello Madame Vastra&quot; * * @example {@lang xml} * &lt;span&gt; * &lt;%= strings.format(&quot;Hello {0}&quot;, &quot;Madame Vastra&quot;) %&gt; * &lt;/span&gt; */ module.exports = function ( format ) { var args = Array.prototype.slice.call( arguments, 1 ); return format.replace( /{(\\d+)}/g, function ( match, number ) { return typeof args[number] != 'undefined' ? args[number] : match ; } ); }; × Search results Close "},"utils_logger.js.html":{"id":"utils_logger.js.html","title":"Source: utils/logger.js","body":" DocStrap Modules basebase/chainsdocuments/binderdocuments/modeldocuments/probedocuments/schemaink/collectormixins/bussablemixins/signalablestrings/formatutils/logger Classes basebase/chainsdocuments/modeldocuments/probe.queryOperatorsdocuments/probe.updateOperatorsink/collector~ACollectorink/collector~CollectorBaseink/collector~OCollectormixins/signalable~Signalutils/logger.Logger Mixins documents/schemamixins/bussablemixins/signalable Tutorials Brush TeethDrive CarFence Test Source: utils/logger.js &quot;use strict&quot;; /** * @fileOverview The logging system for papyrus is based on [http://pimterry.github.io/loglevel/](loglevel) and slightly decorated * @module utils/logger * @requires dcl * @requires loglevel */ var dcl = require( &quot;dcl&quot; ); var log = require( 'loglevel' ); /** * A logger class that you can mix into your classes to handle logging settings and state at an object level. * See {@link utils/logger} for the members of this class * * @exports utils/logger.Logger * @class * @see utils/logger */ var Logger = dcl( null, /** @lends utils/logger.Logger# */{ declaredClass : &quot;utils/Logger&quot;, /** * Turn off all logging. If you log something, it will not error, but will not do anything either * and the cycles are minimal. * */ silent : function () { log.disableAll(); }, /** * Turns on all logging levels * */ all : function () { log.enableAll(); }, /** * Sets the logging level to one of `trace`, `debug`, `info`, `warn`, `error`. * @param {string} lvl The level to set it to. Can be one of `trace`, `debug`, `info`, `warn`, `error`. * */ level : function ( lvl ) { if ( lvl.toLowerCase() === &quot;none&quot; ) { log.disableAll(); } else { log.setLevel( lvl ); } }, /** * Log a `trace` call * @method * @param {string} The value to log */ trace : log.trace, /** * Log a `debug` call * @method * @param {string} The value to log */ debug : log.debug, /** * Log a `info` call * @method * @param {string} The value to log */ info : log.info, /** * Log a `warn` call * @method * @param {string} The value to log */ warn : log.warn, /** * Log a `error` call * @method * @param {string} The value to log */ error : log.error } ); module.exports = new Logger(); /** * The system global, cross-platform logger * @name utils/logger * @static * @type {utils/logger.Logger} */ module.exports.Logger = Logger; × Search results Close "},"modules.list.html":{"id":"modules.list.html","title":"Modules","body":" DocStrap Modules basebase/chainsdocuments/binderdocuments/modeldocuments/probedocuments/schemaink/collectormixins/bussablemixins/signalablestrings/formatutils/logger Classes basebase/chainsdocuments/modeldocuments/probe.queryOperatorsdocuments/probe.updateOperatorsink/collector~ACollectorink/collector~CollectorBaseink/collector~OCollectormixins/signalable~Signalutils/logger.Logger Mixins documents/schemamixins/bussablemixins/signalable Tutorials Brush TeethDrive CarFence Test Modules Classes base base/chains documents/model queryOperators updateOperators ACollector CollectorBase OCollector Signal Logger Mixins documents/schema mixins/bussable mixins/signalable × Search results Close "},"classes.list.html":{"id":"classes.list.html","title":"Classes","body":" DocStrap Modules basebase/chainsdocuments/binderdocuments/modeldocuments/probedocuments/schemaink/collectormixins/bussablemixins/signalablestrings/formatutils/logger Classes basebase/chainsdocuments/modeldocuments/probe.queryOperatorsdocuments/probe.updateOperatorsink/collector~ACollectorink/collector~CollectorBaseink/collector~OCollectormixins/signalable~Signalutils/logger.Logger Mixins documents/schemamixins/bussablemixins/signalable Tutorials Brush TeethDrive CarFence Test Classes Classes base base/chains documents/model queryOperators updateOperators ACollector CollectorBase OCollector Signal Logger Mixins documents/schema mixins/bussable mixins/signalable × Search results Close "},"mixins.list.html":{"id":"mixins.list.html","title":"Mixins","body":" DocStrap Modules basebase/chainsdocuments/binderdocuments/modeldocuments/probedocuments/schemaink/collectormixins/bussablemixins/signalablestrings/formatutils/logger Classes basebase/chainsdocuments/modeldocuments/probe.queryOperatorsdocuments/probe.updateOperatorsink/collector~ACollectorink/collector~CollectorBaseink/collector~OCollectormixins/signalable~Signalutils/logger.Logger Mixins documents/schemamixins/bussablemixins/signalable Tutorials Brush TeethDrive CarFence Test Mixins Classes base base/chains documents/model queryOperators updateOperators ACollector CollectorBase OCollector Signal Logger Mixins documents/schema mixins/bussable mixins/signalable × Search results Close "},"tutorials.list.html":{"id":"tutorials.list.html","title":"Tutorials","body":" DocStrap Modules basebase/chainsdocuments/binderdocuments/modeldocuments/probedocuments/schemaink/collectormixins/bussablemixins/signalablestrings/formatutils/logger Classes basebase/chainsdocuments/modeldocuments/probe.queryOperatorsdocuments/probe.updateOperatorsink/collector~ACollectorink/collector~CollectorBaseink/collector~OCollectormixins/signalable~Signalutils/logger.Logger Mixins documents/schemamixins/bussablemixins/signalable Tutorials Brush TeethDrive CarFence Test Tutorials Classes base base/chains documents/model queryOperators updateOperators ACollector CollectorBase OCollector Signal Logger Mixins documents/schema mixins/bussable mixins/signalable × Search results Close "},"index.html":{"id":"index.html","title":"Index","body":" DocStrap Modules basebase/chainsdocuments/binderdocuments/modeldocuments/probedocuments/schemaink/collectormixins/bussablemixins/signalablestrings/formatutils/logger Classes basebase/chainsdocuments/modeldocuments/probe.queryOperatorsdocuments/probe.updateOperatorsink/collector~ACollectorink/collector~CollectorBaseink/collector~OCollectormixins/signalable~Signalutils/logger.Logger Mixins documents/schemamixins/bussablemixins/signalable Tutorials Brush TeethDrive CarFence Test DocStrap DocStrap is Bootstrap based template for JSDoc3.In addition, it includes all of the themes from Bootswatch giving you a great deal of lookand feel options for your documentation, along with a simple search. Additionally, it adds some options to the conf.json file that givesyou even more flexibility to tweak the template to your needs. It will also make your teeth whiter. Features Right side TOC for navigation in pages Integrated offline search Themed Customizable Syntax highlighting What It Looks LikeHere are examples of this template with the different Bootswatch themes: Cerulean Cosmo Cyborg Flatly Journal Lumen Paper Readable Sandstone Simplex Slate Spacelab Superhero United Yeti To change your theme, just change it in the conf.json file. See below for details. Ooooh, I want it! How do I get it?If you manage your own version of jsdoc: npm install ink-docstrapWhen using grunt, please look at grunt-jsdoc which you can use withdocstrap. Command Line Examplejsdoc -c path/to/conf.json -t ./node_modules/ink-docstrap/template -R README.md -r .The -c sets the config, and the docstrap README does talk about the options you can put in templates that docstrap is supposed to look for. The -t sets the template. This is the option you need to set to get the docstrap template to be used. The -R sets a markdown file to be the front page of the documentation. The -r tells jsdoc to run recursively. The . says from current directory. Configuring the templateDocStrap ships with a conf.json file in the template/ directory. It is just a regular oldJSDoc configuration file, but with the following new options: &quot;templates&quot;: { &quot;systemName&quot; : &quot;{string}&quot;, &quot;footer&quot; : &quot;{string}&quot;, &quot;copyright&quot; : &quot;{string}&quot;, &quot;includeDate&quot; : &quot;{boolean}&quot;, &quot;navType&quot; : &quot;{vertical|inline}&quot;, &quot;theme&quot; : &quot;{theme}&quot;, &quot;linenums&quot; : &quot;{boolean}&quot;, &quot;collapseSymbols&quot; : &quot;{boolean}&quot;, &quot;inverseNav&quot; : &quot;{boolean}&quot;, &quot;outputSourceFiles&quot; : &quot;{boolean}&quot; , &quot;outputSourcePath&quot; : &quot;{boolean}&quot;, &quot;dateFormat&quot; : &quot;{string}&quot;, &quot;syntaxTheme&quot; : &quot;{string}&quot;, &quot;sort&quot; : &quot;{boolean|string}&quot; }Options systemNameThe name of the system being documented. This will appear in the page title for each page footerAny markup want to appear in the footer of each page. This is not processed at all, just printed exactly as you enter it copyrightYou can add a copyright message below the footer and above the JSDoc timestamp at the bottom of the page includeDateBy default, the current date is always shown in the footer of the generated documentation. You can omit the current date by setting this option to false navTypeThe template uses top level navigation with dropdowns for the contents of each category. On large systems these dropdownscan get large enough to expand beyond the page. To make the dropdowns render wider and stack the entries vertically, set thisoption to &quot;inline&quot;. Otherwise set it to &quot;vertical&quot; to make them regular stacked dropdowns. themeThis is the name of the them you want to use in all lowercase. The valid options are cerulean cosmo cyborg flatly journal lumen paper readable sandstone simplex slate spacelab superhero united yeti linenumsWhen true, line numbers will appear in the source code listing. If you havealso turned that on. collapseSymbolsIf your pages have a large number of symbols, it can be easy to get lost in all the text. If you turn this to trueall of the symbols in the page will roll their contents up so that you just get a list of symbols that can be expandedand collapsed. analytics Add a Google Analytics code to the template outpute.g. &quot;analytics&quot;:{&quot;ua&quot;:&quot;UA-XXXXX-XXX&quot;, &quot;domain&quot;:&quot;XXXX&quot;} ua The google agent (see Google Analytics help for details) domain The domain being served. (see Google Analytics help for details) inverseNavBootstrap navbars come in two flavors, regular and inverse where inverse is generally higher contrast. Set this to true touse the inverse header. outputSourceFilesWhen true, the system will produce source pretty printed file listings with a link from the documentation. outputSourcePathWhen outputSourceFiles is false, you may still want to name the file even without a link to the pretty printed output.Set this to true when outputSourceFiles is false. outputSourceFiles when true takes precedence over this setting. dateFormat The date format to use when printing dates. It accepts any format string understood by moment.js syntaxTheme String that determines the theme used for code blocks. Default value is &quot;default&quot;. It can be any value supportedat sunlight themes which right now consists of...uh...&quot;default&quot; and &quot;dark&quot;,but at least you have it if you need it. sort Defaults to true. Specifies whether jsdoc should sort data or use file order. Can also be a string and if so it is passed to jsdoc directly. The default string is &quot;longname, version, since&quot;. Syntax HighlightingLanguageThe default language will be JavaScript, but there are a couple of ways to secify the language. DocStrap support the language specified in the standard way e.g. ```html &lt;html&gt;&lt;/html&gt;DocStrap also introduces a new documentation tag which can appear inside any example block in source code,or in any fenced code block in markdown: {@lang languageName}, wherelanguage can be any of the languages supported by Sunlight When in a doclet, add the tag just after the @example tag like this: @example {@lang xml}&lt;div&gt;This is the most interesting web site ever&lt;/div&gt; These are the supported languages. ActionScript bash C/C++ C♯ CSS Diff DOS batch Erlang Haskell httpd (Apache) Java JavaScript Lisp Lua MySQL nginx Objective-C Perl PHP PowerShell Python Ruby Scala T-SQL VB.NET XML (HTML) Example CaptionIf you want a caption to your example, add it in a HTML caption before your example e.g. @example &lt;caption&gt;my caption&lt;/caption&gt; {@lang xml} &lt;mycode&gt;&lt;/mycode&gt;Customizing DocStrapNo template can meet every need and customizing templates is a favorite pastime of....well, no-one, but you may need to anyway.First make sure you have bower and grunt-cli installed.Fetch the source using git or grab the zip file from github. and unzipit somewhere. Everything that follows happens in the unzip directory. Next, prepare the environment: bower installand npm installWhen that is done, you have all of the tools to start modifying the template. The template, like Bootstrap, uses less.The way it works is that ./styles/main.less pulls in the bootstrap files uncompiled so that you have access to all of bootstraps mixins, colors,etc, that you would want. There are two more files in that directory, variables.less, bootswatch.less. These are thetheme files and you can modify them, but keep in mind that if you apply a new theme (see below) those files will be overwritten. It is bestto keep your changes to the main.less file. To compile your changes to main.less and any other files it loads up, grunt lessThe output is will be put in ./template/static/styles/site.&lt;theme-name&gt;.css. The next time you create your documentation, itwill have the new css file included. To apply a different template to the styles directory to modify, open up the conf.json in the template directory andchange the theme option to the theme you want. Then grunt applyAnd the new theme will be in variables.less, bootswatch.less. Don't forget to compile your changes using grunt apply toget that change into the template. NOTE that these steps are not necessary to just change the theme, this is only to modify the theme. If all you want to do ischange the theme, just update conf.json with the new theme and build your docs! ContributingYes! Contribute! Test! Share your ideas! Report Bugs! ContributersHuge thanks to all contributors. If your name should be here, but isn't, please let us know marklagendijk michaelward82 kaustavdm vmeurisse bmathern jrkim123us shawke mar10 mwcz pocesar hyperandroid vmadman whitelynx tswaters lukeapage rcosnita History1.1.0 Added includeDate option 1.0.5 Navigation to anchor links now works in IE (with some flicker) links to other pages now work (with some flicker in some browsers) 1.0.4 Search results no longer erroneously included in side navbar Tutorials now get page titles consistent with everything else Improvements to the highlighted nav heading 1.0.3 Drop-down shows a scrollbar when too big (regression in 1.0.1) 1.0.2 Support older jsdoc by not looking in &quot;interfaces&quot; 1.0.1 Tweak side nav and dropdowns to be the bootswatch style Make the documentation responsive 1.0.0 Bump to follow semver (initial development is well and truly over) Corrected list of themes Added Search Remove highlightTutorialCode option - it didnt work 0.5.4 Fix layout glitch on hte bottom of code samples Support for specifying the language for fenced code blocks in the normal way Fix the active item in some themes, which was missing a background Tables get marked as tables Dependency updates 0.5.3 Removed duplicate headers Remove &quot;Index&quot; header re-fixed navigation removed some dubious features (now pr's that can be re-added with a little polishing) 0.5.2Major update__. Amazing help from tswaters to solve a bunch of little problems and a to bring the codebase up to Bootstrap3.Make sure you are running the latest version of JSDoc before using this build. Again huge, huge thanks to tswaters. Make sure you send him thanks or a tip!!!!! v0.4.15 PR Issue #76 PR Issue #77 v0.4.14 Issue #69 v0.4.13 Issue #68 v0.4.11 Pull Request #59 v0.4.8 Issue #58 v0.4.7 Issue #57 v0.4.5 Issue #55 Issue #54 Issue #52 Issue #51 Issue #50 Issue #45 Issue #44 v0.4.3 Issue #46 Issue #46 Issue #47 v0.4.1-1 Issue #44 Update documentation Issue #43 Issue #42 Issue #34 v0.4.0 Issue #41 Issue #40 Issue #39 Issue #36 Issue #32 v0.3.0 Fixed navigation at page top Adds -d switch to example jsdoc command. Fixed typo in readme Improve search box positioning and styles Add dynamic quick search in TOC Fix for line numbers styling issue v0.2.0 Added jump to source linenumers - still a problem scrolling with fixed header changed syntax highlighter to sunlight Modify incoming bootswatch files to make font calls without protocol. v0.1.0Initial release NoticesIf you like DocStrap, be sure and check out these excellent projects and support them! JSDoc3 is licensed under the Apache License So is Bootstrap And Bootswatch TOC is licensed under MIT Grunt is also MIT DocStrap is licensed under the MIT license. Sunlight uses the WTFPL LicenseDocStrap Copyright (c) 2012-2015 Terry Weiss &amp; Contributors. All rights reserved. Permission is hereby granted, free of charge, to any personobtaining a copy of this software and associated documentationfiles (the &quot;Software&quot;), to deal in the Software withoutrestriction, including without limitation the rights to use,copy, modify, merge, publish, distribute, sublicense, and/or sellcopies of the Software, and to permit persons to whom theSoftware is furnished to do so, subject to the followingconditions: The above copyright notice and this permission notice shall beincluded in all copies or substantial portions of the Software. THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND,EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIESOF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE ANDNONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHTHOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISINGFROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OROTHER DEALINGS IN THE SOFTWARE. × Search results Close "},"base.html":{"id":"base.html","title":"Class: base","body":" DocStrap Modules basebase/chainsdocuments/binderdocuments/modeldocuments/probedocuments/schemaink/collectormixins/bussablemixins/signalablestrings/formatutils/logger Classes basebase/chainsdocuments/modeldocuments/probe.queryOperatorsdocuments/probe.updateOperatorsink/collector~ACollectorink/collector~CollectorBaseink/collector~OCollectormixins/signalable~Signalutils/logger.Logger Mixins documents/schemamixins/bussablemixins/signalable Tutorials Brush TeethDrive CarFence Test Class: base base The base of all classes in the system, this is one of the few pure &quot;classes&quot; in core the of the system. It is apretty clean little class whose primary purpose is to surface the composition chains and a basis for storingoptions on mixin and subclass instances. Options are handled at the instance rather than the prototype levelso that multiple instances don't compete for default values. new base() Source: base/index.js, line 22 Extends base/chains Members close The close method asks an object to shut itself down in a way that will allow it to be reopened, unlike theend method which will call the destroy method which should make the object unusable, but alsodevoid of all resources whereas close may still keep some resources open. Heading 1 Heading 2 Heading 3 Bar Food This is a table This uses the before chain which means the last one defined in the first one destroyed Inherited From: base/chains#close Source: base/chains.js, line 15 See: base/chains#open open If you are using the open/close paradigm for an object that can kind of go dormant on base/chains#close and can be &quot;reopened&quot;again later, here is where the &quot;open&quot; code will go. This used the after chain which means that the first one defined is the first one destroyed. Inherited From: base/chains#open Source: base/chains.js, line 58 See: base/chains#close Methods addDefaultOptions(options) Add a default option to a class. The default options are only set if there is not already avalue for the option. Parameters: Name Type Description options hash A hash of options you want to set Source: base/index.js, line 40 See: {base#addOptions} addOptions(options) Add an option to a class. If any members of the hash already exist in this.options, they will be overwritten. Parameters: Name Type Description options hash A hash of options you want to set Source: base/index.js, line 29 See: {base#addDefaultOptions} destroy() Called when it is time to get rid of all of your instance level references and objects and events. You candefine this method on your own classes without having to call the superclass instance. It is called byinstance.end() automatically Overrides: base/chains#destroy Source: base/index.js, line 64 See: {base/chains#end} {base/chains#destroy} end() Call this to close your object and dispose of all maintained resources. You can define this method on yourown classes without having to call the superclass instance, however it is reccomended that you putall disposal code in destroy(). You must be disciplined about calling this on your instances. Overrides: base/chains#end Source: base/index.js, line 53 See: {base/chains#end} {base/chains#destroy} × Search results Close "},"base_chains.html":{"id":"base_chains.html","title":"Class: base/chains","body":" DocStrap Modules basebase/chainsdocuments/binderdocuments/modeldocuments/probedocuments/schemaink/collectormixins/bussablemixins/signalablestrings/formatutils/logger Classes basebase/chainsdocuments/modeldocuments/probe.queryOperatorsdocuments/probe.updateOperatorsink/collector~ACollectorink/collector~CollectorBaseink/collector~OCollectormixins/signalable~Signalutils/logger.Logger Mixins documents/schemamixins/bussablemixins/signalable Tutorials Brush TeethDrive CarFence Test Class: base/chains base/chains Chains define the primary composition elements (functions) that determine the order of execution. new base/chains() Source: base/chains.js, line 14 Members close The close method asks an object to shut itself down in a way that will allow it to be reopened, unlike theend method which will call the destroy method which should make the object unusable, but alsodevoid of all resources whereas close may still keep some resources open. Heading 1 Heading 2 Heading 3 Bar Food This is a table This uses the before chain which means the last one defined in the first one destroyed Source: base/chains.js, line 15 See: base/chains#open end The end method will call the destroy method which should make the object unusable anddevoid of all resources, unlike theclose method asks an object to shut itself down in a way that will allow it to be reopened. This uses the before chain which means the last one defined in the first one destroyed Source: base/chains.js, line 30 Example Add this to your application.properties. foo=bar open If you are using the open/close paradigm for an object that can kind of go dormant on base/chains#close and can be &quot;reopened&quot;again later, here is where the &quot;open&quot; code will go. This used the after chain which means that the first one defined is the first one destroyed. Source: base/chains.js, line 58 See: base/chains#close × Search results Close "},"documents_model.html":{"id":"documents_model.html","title":"Class: documents/model","body":" DocStrap Modules basebase/chainsdocuments/binderdocuments/modeldocuments/probedocuments/schemaink/collectormixins/bussablemixins/signalablestrings/formatutils/logger Classes basebase/chainsdocuments/modeldocuments/probe.queryOperatorsdocuments/probe.updateOperatorsink/collector~ACollectorink/collector~CollectorBaseink/collector~OCollectormixins/signalable~Signalutils/logger.Logger Mixins documents/schemamixins/bussablemixins/signalable Tutorials Brush TeethDrive CarFence Test Class: documents/model documents/model new documents/model() A model is the first level if usable data-bearing entity in the system. It does NOT include any verbs for saving or anything likethat, it is a pure, in memory data container Source: documents/model.js, line 34 Members isEmpty :boolean Returns true if this instance is empty Type: boolean Source: documents/model.js, line 101 isNew :boolean If documents/model#_idField is filled in and it's value is empty this will be true. Type: boolean Source: documents/model.js, line 86 Methods &lt;static&gt; all(obj, qu) Returns true if all items match the query Parameters: Name Type Description obj array | object The object to query qu object The query to execute. See module:documents/probe.queryOperators for the operators you can use. Source: documents/probe.js, line 871 Returns: Type boolean &lt;static&gt; any(obj, qu) Returns true if any of the items match the query Parameters: Name Type Description obj array | object The object to query qu object The query to execute. See module:documents/probe.queryOperators for the operators you can use. Source: documents/probe.js, line 882 Returns: Type boolean &lt;static&gt; every(obj, qu) Returns true if all items match the query. Aliases as all Parameters: Name Type Description obj array | object The object to query qu object The query to execute Source: documents/probe.js, line 950 Returns: Type boolean &lt;static&gt; find(obj, qu) Find all records that match a query Parameters: Name Type Description obj array | object The object to query qu object The query to execute. See module:documents/probe.queryOperators for the operators you can use. Source: documents/probe.js, line 750 Returns: The results Type array &lt;static&gt; findKeys(obj, qu) Find all records that match a query and returns the keys for those items. This is similar to module:documents/probe.find but instead of returning records, returns the keys. If obj is an object it will return the hash key. If 'obj' is an array, it will return the index Parameters: Name Type Description obj array | object The object to query qu object The query to execute. See module:documents/probe.queryOperators for the operators you can use. Source: documents/probe.js, line 769 Returns: Type array &lt;static&gt; findOne(obj, qu) Returns the first record that matches the query. Aliased as seek. Parameters: Name Type Description obj array | object The object to query qu object The query to execute. See module:documents/probe.queryOperators for the operators you can use. Source: documents/probe.js, line 788 Returns: Type object &lt;static&gt; findOneKey(obj, qu) Returns the first record that matches the query and returns its key or index depending on whether obj is an object or array respectively. Aliased as seekKey. Parameters: Name Type Description obj array | object The object to query qu object The query to execute. See module:documents/probe.queryOperators for the operators you can use. Source: documents/probe.js, line 813 Returns: Type object &lt;static&gt; get(path, record) Reaches into an object and allows you to get at a value deeply nested in an object. This is not a query, but a straight reach in, useful for event bindings Parameters: Name Type Description path array The split path of the element to work with record object The record to reach into Source: documents/probe.js, line 930 Returns: Whatever was found in the record Type * &lt;static&gt; remove(obj, qu) Remove all items in the object/array that match the query Parameters: Name Type Description obj array | object The object to query qu object The query to execute. See module:documents/probe.queryOperators for the operators you can use. Source: documents/probe.js, line 838 Returns: The array or object as appropriate without the records. Type object | array &lt;static&gt; set(path, record, setter, newValue) This will write the value into a record at the path, creating intervening objects if they don't exist. This does not work as filtered update and is meant to be used on a single record. It is a nice way of setting a property at an arbitrary depth at will. Parameters: Name Type Description path array The split path of the element to work with record object The record to reach into setter string The set operation. See module:documents/probe.updateOperators for the operators you can use. newValue object The value to write to the, or if the operator is $pull, the query of items to look for Source: documents/probe.js, line 918 &lt;static&gt; some(obj, qu) Returns true if any of the items match the query. Aliases as any Parameters: Name Type Description obj array | object The object to query qu object The query to execute Source: documents/probe.js, line 941 Returns: Type boolean &lt;static&gt; update(obj, qu, setDocument) Updates all records in obj that match the query. See module:documents/probe.updateOperators for the operators that are supported. Parameters: Name Type Description obj object | array The object to update qu object The query which will be used to identify the records to updated setDocument object The update operator. See module:documents/probe.updateOperators Source: documents/probe.js, line 734 × Search results Close "},"documents_schema.html":{"id":"documents_schema.html","title":"Mixin: documents/schema","body":" DocStrap Modules basebase/chainsdocuments/binderdocuments/modeldocuments/probedocuments/schemaink/collectormixins/bussablemixins/signalablestrings/formatutils/logger Classes basebase/chainsdocuments/modeldocuments/probe.queryOperatorsdocuments/probe.updateOperatorsink/collector~ACollectorink/collector~CollectorBaseink/collector~OCollectormixins/signalable~Signalutils/logger.Logger Mixins documents/schemamixins/bussablemixins/signalable Tutorials Brush TeethDrive CarFence Test Mixin: documents/schema documents/schema The validator mixin provides access to the features of the JSON validation system Source: documents/schema.js, line 17 Members _defaultSchemaName :string|function The default name of the scheman when you use anonymous schemas. You can define this at the prototype for classifiedschemas. The can also Type: string | function Source: documents/schema.js, line 44 schema :object The schema that defines the validation rules. This should probably be defined at the prototype for eachobject or model classification. It can be an anonymous schema defined right here, or this can beregistered schema names to use, or just a single name Type: object Source: documents/schema.js, line 19 schemas :object If you want to register multiple schemas, use this property instead Type: object Source: documents/schema.js, line 29 validationOptions :object|function The options to pass to the validator when it runs Type: object | function Source: documents/schema.js, line 54 Methods addCheck(name, formatter) It is possible to add support for custom checks (i.e., minItems, maxItems, minLength, maxLength, etc.) through the addCheck function Parameters: Name Type Description name string The name of the check formatter function Perform the check Properties Name Type Description value object The value to check followed by any parameters from the schema Source: documents/schema.js, line 165 Returns: Type boolean addFormat(name, formatter) It is also possible to add support for additional string formats through the addFormat function. Parameters: Name Type Description name string The name of the formatter formatter function How to format it Properties Name Type Description value object The value to format Source: documents/schema.js, line 153 Returns: Type boolean addType(name, operation) Create a type to be used in your schemas to define new validators Parameters: Name Type Description name string The name of the type operation function What to do with the type. Properties Name Type Description value object The value to validation Source: documents/schema.js, line 141 Returns: Type boolean addTypeCoercion(name, coercer) Custom coercion rules Parameters: Name Type Description name string The name of the coercion coercer function Perform the coercion Properties Name Type Description value object The value to coerce Source: documents/schema.js, line 177 Returns: Type boolean defaultDoc(schema) Builds a default document based on the schema. What this does is create a document from schema and for each propertythat has a default value or is required, the resultant object will contain that property. It is useful for extendingvalues from some source that may be incomplete, like options or some such. Parameters: Name Type Description schema json-schema A schema to use to create the default document Source: documents/schema.js, line 239 Returns: Type object extract(schema, src) This method will create a new object that contains only the fields and no methods or other artifacts. This is usefulfor creating objects to pass over the wire or save in a table. This is not deeply copied, so changes made to theextracted object will be represented in this class for reference objects. Parameters: Name Type Argument Description schema string &lt;optional&gt; The schema name to use src object &lt;optional&gt; The object to extract fields from Source: documents/schema.js, line 214 Returns: Data-only version of the class instance. Type object extract(record, schema) Extracts only the elements of the object that are defined in the schema Parameters: Name Type Argument Description record object &lt;optional&gt; The record to extract from schema string &lt;optional&gt; The name of the schema to attach Source: documents/schema.js, line 122 getSchema(schemaName) Get a registered schema by name Parameters: Name Type Argument Description schemaName string &lt;optional&gt; Source: documents/schema.js, line 190 Returns: Type object registerSchemas(schemas) Initialize the schema collection by registering the with the handler. You can call this at any time and as often as you like. It will be called onceby the constructor on any instance schemas Parameters: Name Type Description schemas hash A hash of schemas where the key is the name of the schema Source: documents/schema.js, line 101 validate(record, schemaName, options) Validate an object against the schema Parameters: Name Type Argument Description record object &lt;optional&gt; The record to validate schemaName string | object The name of a previously registered schema options object &lt;optional&gt; Options to pass to the validator Source: documents/schema.js, line 62 Returns: Type object Example // This supports these signatures: instance.validate(record, schemaName, options); instance.validate(); // this, this._defaultSchemaName, this.validationOptions instance.validate(record); // record, this._defaultSchemaName, this.validationOptions instance.validate(schemaName); //this, schemaName, this.validationOptions instance.validate(record, schemaName); //record, schemaName, this.validationOptions instance.validate(schemaName, options); //this, schemaName, this.validationOptions × Search results Close "},"mixins_bussable.html":{"id":"mixins_bussable.html","title":"Mixin: mixins/bussable","body":" DocStrap Modules basebase/chainsdocuments/binderdocuments/modeldocuments/probedocuments/schemaink/collectormixins/bussablemixins/signalablestrings/formatutils/logger Classes basebase/chainsdocuments/modeldocuments/probe.queryOperatorsdocuments/probe.updateOperatorsink/collector~ACollectorink/collector~CollectorBaseink/collector~OCollectormixins/signalable~Signalutils/logger.Logger Mixins documents/schemamixins/bussablemixins/signalable Tutorials Brush TeethDrive CarFence Test Mixin: mixins/bussable mixins/bussable Provides easy access to the system bus and provides some helper methods for doing so Source: mixins/bussable.js, line 18 Methods getSubscription(channel, topic) Get a subscription definition Parameters: Name Type Description channel string topic string Source: mixins/bussable.js, line 80 Returns: The subscription definition Type object once(channel, topic, callback) Subscribe to an event once Parameters: Name Type Description channel string The channel to subscribe to topic string The topic to subscribe to callback callback What to do when you get the event Source: mixins/bussable.js, line 54 Returns: The subscription definition Type object publish(channel, topic, options) Publish an event on the system bus Parameters: Name Type Argument Description channel string The channel to publish to topic string The topic to publish to options object &lt;optional&gt; What to pass to the event Source: mixins/bussable.js, line 68 subscribe(channel, topic, callback) Subscribe to an event Parameters: Name Type Description channel string The channel to subscribe to topic string The topic to subscribe to callback callback What to do when you get the event Source: mixins/bussable.js, line 40 Returns: The subscription definition Type object × Search results Close "},"mixins_signalable.html":{"id":"mixins_signalable.html","title":"Mixin: mixins/signalable","body":" DocStrap Modules basebase/chainsdocuments/binderdocuments/modeldocuments/probedocuments/schemaink/collectormixins/bussablemixins/signalablestrings/formatutils/logger Classes basebase/chainsdocuments/modeldocuments/probe.queryOperatorsdocuments/probe.updateOperatorsink/collector~ACollectorink/collector~CollectorBaseink/collector~OCollectormixins/signalable~Signalutils/logger.Logger Mixins documents/schemamixins/bussablemixins/signalable Tutorials Brush TeethDrive CarFence Test Mixin: mixins/signalable mixins/signalable Make an object capable of handling a signal. Or many signals. Source: mixins/signalable.js, line 153 Extends base Members autoLoadSignals :boolean When true, the class will load the signals hash and create the signal definitions during construction Type: boolean Source: mixins/signalable.js, line 230 signals :hash|function A hash of signals to create automatically. Each definition consists of a name for the signal as the keyand then a hash of options (nullable) for each signal Type: hash | function Source: mixins/signalable.js, line 238 Methods refreshSignals() When you make a change to the signals hash after loading, then you can make it reload Source: mixins/signalable.js, line 165 × Search results Close "},"module-base.html":{"id":"module-base.html","title":"Module: base","body":" DocStrap Modules basebase/chainsdocuments/binderdocuments/modeldocuments/probedocuments/schemaink/collectormixins/bussablemixins/signalablestrings/formatutils/logger Classes basebase/chainsdocuments/modeldocuments/probe.queryOperatorsdocuments/probe.updateOperatorsink/collector~ACollectorink/collector~CollectorBaseink/collector~OCollectormixins/signalable~Signalutils/logger.Logger Mixins documents/schemamixins/bussablemixins/signalable Tutorials Brush TeethDrive CarFence Test Module: base This is base definition for all composed classes defined by the system Source: base/index.js, line 2 Requires module:base/chains module:dcl × Search results Close "},"module-base_chains.html":{"id":"module-base_chains.html","title":"Module: base/chains","body":" DocStrap Modules basebase/chainsdocuments/binderdocuments/modeldocuments/probedocuments/schemaink/collectormixins/bussablemixins/signalablestrings/formatutils/logger Classes basebase/chainsdocuments/modeldocuments/probe.queryOperatorsdocuments/probe.updateOperatorsink/collector~ACollectorink/collector~CollectorBaseink/collector~OCollectormixins/signalable~Signalutils/logger.Logger Mixins documents/schemamixins/bussablemixins/signalable Tutorials Brush TeethDrive CarFence Test Module: base/chains The chains define the primary composition elements (functions) that determine the order of execution. Source: base/chains.js, line 2 Requires module:dcl × Search results Close "},"module-documents_binder.html":{"id":"module-documents_binder.html","title":"Module: documents/binder","body":" DocStrap Modules basebase/chainsdocuments/binderdocuments/modeldocuments/probedocuments/schemaink/collectormixins/bussablemixins/signalablestrings/formatutils/logger Classes basebase/chainsdocuments/modeldocuments/probe.queryOperatorsdocuments/probe.updateOperatorsink/collector~ACollectorink/collector~CollectorBaseink/collector~OCollectormixins/signalable~Signalutils/logger.Logger Mixins documents/schemamixins/bussablemixins/signalable Tutorials Brush TeethDrive CarFence Test Module: documents/binder allows you to bind a change watcher that looks for get and set operations on an arbitraryproperty of an object at at any depth. This allows you to look for changes or intercept values asynchronously or otherwise. Source: documents/binder.js, line 2 Requires module:async module:documents/probe module:lodash module:promise Methods &lt;static&gt; bind(path, record, options) Bind to a property somewhere in an object. The property is found using dot notation and can be arbitrarily deep. Parameters: Name Type Description path string The path into the object to locate the property. For instance this could be &quot;_id&quot;, &quot;name.last&quot;.or &quot;some.really.really.long.path.including.an.array.2.name&quot; record object Anything you can hang a property off of options options What you wanna do with the doohicky when yoyu bind it. Properties Name Type Argument Description getter function This is the method to run when getting the value. When it runs, you will receivea single parameter which is the current value as the object understands it. You can return the value directly, just raise an event orwhatever your little heart demands. However, if you are asynchronous, this will turn your return value into a promise, one of thefew places this system will embrace promises over node-like error passing and that is mainly because this is a getter so a return valueis particularly important. * Properties Name Type Argument Description value * The current value of the record callback function &lt;optional&gt; When asynchronous, return you value through this method using node styleerror passing (the promise is handled for you by this method). getterAsync boolean &lt;optional&gt; When true (not truthy) the getter is treated asynchronously and returns a promise with your value. setter function &lt;optional&gt; A setter method Properties Name Type Description newVal * The new value oldVal * The old value record * The record hosting the change validator function &lt;optional&gt; If you want a validator to run before settings values, pass this guy in Properties Name Type Argument Description newVal * The new value oldVal * The old value record * The record hosting the change callback function &lt;optional&gt; If the validator is asynchronous, then pass your value back here, otherwise pass it back as a return value.When you use an asynchronous instance, pass the error in the first value and then the rest of the parameters are yours to play with validatorAsync boolean &lt;optional&gt; When true (not truthy) the validator is treated asynchornously and returns a promise with your value. Source: documents/binder.js, line 92 Returns: Type * &lt;static&gt; unbind(path, record) You can unbind previously bound objects from here. Parameters: Name Type Description path string The path that was bound using module:documents/binder.bind record * The object that was bound Source: documents/binder.js, line 36 × Search results Close "},"module-documents_model.html":{"id":"module-documents_model.html","title":"Module: documents/model","body":" DocStrap Modules basebase/chainsdocuments/binderdocuments/modeldocuments/probedocuments/schemaink/collectormixins/bussablemixins/signalablestrings/formatutils/logger Classes basebase/chainsdocuments/modeldocuments/probe.queryOperatorsdocuments/probe.updateOperatorsink/collector~ACollectorink/collector~CollectorBaseink/collector~OCollectormixins/signalable~Signalutils/logger.Logger Mixins documents/schemamixins/bussablemixins/signalable Tutorials Brush TeethDrive CarFence Test Module: documents/model A model is the first level if usable data-bearing entity in the system. It does NOT include any verbs for saving or anything likethat, it is a pure, in memory data container Source: documents/model.js, line 2 × Search results Close "},"module-documents_probe.html":{"id":"module-documents_probe.html","title":"Module: documents/probe","body":" DocStrap Modules basebase/chainsdocuments/binderdocuments/modeldocuments/probedocuments/schemaink/collectormixins/bussablemixins/signalablestrings/formatutils/logger Classes basebase/chainsdocuments/modeldocuments/probe.queryOperatorsdocuments/probe.updateOperatorsink/collector~ACollectorink/collector~CollectorBaseink/collector~OCollectormixins/signalable~Signalutils/logger.Logger Mixins documents/schemamixins/bussablemixins/signalable Tutorials Brush TeethDrive CarFence Test Module: documents/probe Queries objects in memory using a mongo-like notation for reaching into objects and filtering for records Author: Terry Weiss License: MIT Source: documents/probe.js, line 2 Requires module:lodash Classes queryOperators updateOperators Members &lt;static&gt; delimiter :string The delimiter to use when splitting an expression Type: string Default Value: '.' Source: documents/probe.js, line 154 Methods &lt;static&gt; all(obj, qu) Returns true if all items match the query Parameters: Name Type Description obj array | object The object to query qu object The query to execute. See module:documents/probe.queryOperators for the operators you can use. Source: documents/probe.js, line 871 Returns: Type boolean &lt;static&gt; any(obj, qu) Returns true if any of the items match the query Parameters: Name Type Description obj array | object The object to query qu object The query to execute. See module:documents/probe.queryOperators for the operators you can use. Source: documents/probe.js, line 882 Returns: Type boolean &lt;static&gt; every(obj, qu) Returns true if all items match the query. Aliases as all Parameters: Name Type Description obj array | object The object to query qu object The query to execute Source: documents/probe.js, line 950 Returns: Type boolean &lt;static&gt; find(obj, qu) Find all records that match a query Parameters: Name Type Description obj array | object The object to query qu object The query to execute. See module:documents/probe.queryOperators for the operators you can use. Source: documents/probe.js, line 750 Returns: The results Type array &lt;static&gt; findKeys(obj, qu) Find all records that match a query and returns the keys for those items. This is similar to module:documents/probe.find but instead of returning records, returns the keys. If obj is an object it will return the hash key. If 'obj' is an array, it will return the index Parameters: Name Type Description obj array | object The object to query qu object The query to execute. See module:documents/probe.queryOperators for the operators you can use. Source: documents/probe.js, line 769 Returns: Type array &lt;static&gt; findOne(obj, qu) Returns the first record that matches the query. Aliased as seek. Parameters: Name Type Description obj array | object The object to query qu object The query to execute. See module:documents/probe.queryOperators for the operators you can use. Source: documents/probe.js, line 788 Returns: Type object &lt;static&gt; findOneKey(obj, qu) Returns the first record that matches the query and returns its key or index depending on whether obj is an object or array respectively. Aliased as seekKey. Parameters: Name Type Description obj array | object The object to query qu object The query to execute. See module:documents/probe.queryOperators for the operators you can use. Source: documents/probe.js, line 813 Returns: Type object &lt;static&gt; get(path, record) Reaches into an object and allows you to get at a value deeply nested in an object. This is not a query, but a straight reach in, useful for event bindings Parameters: Name Type Description path array The split path of the element to work with record object The record to reach into Source: documents/probe.js, line 930 Returns: Whatever was found in the record Type * &lt;static&gt; mixin(obj, collection) Binds the query and update methods to a specific object and adds the methods to that object. When called these methods can skip the first parameter so that find(object, query) can just be called as object.find(query) Parameters: Name Type Description obj object | array The object or array to bind to collection object | array If the collection is not the same as this but is a property, or even a whole other object, you specify that here. Otherwise the obj is assumed to be the same as the collecion Source: documents/probe.js, line 992 &lt;static&gt; proxy(obj) Binds the query and update methods to a new object. When called these methods can skip the first parameter so that find(object, query) can just be called as find(query) Parameters: Name Type Description obj object | array The object or array to bind to Source: documents/probe.js, line 975 Returns: An object with method bindings in place Type object &lt;static&gt; remove(obj, qu) Remove all items in the object/array that match the query Parameters: Name Type Description obj array | object The object to query qu object The query to execute. See module:documents/probe.queryOperators for the operators you can use. Source: documents/probe.js, line 838 Returns: The array or object as appropriate without the records. Type object | array &lt;static&gt; set(path, record, setter, newValue) This will write the value into a record at the path, creating intervening objects if they don't exist. This does not work as filtered update and is meant to be used on a single record. It is a nice way of setting a property at an arbitrary depth at will. Parameters: Name Type Description path array The split path of the element to work with record object The record to reach into setter string The set operation. See module:documents/probe.updateOperators for the operators you can use. newValue object The value to write to the, or if the operator is $pull, the query of items to look for Source: documents/probe.js, line 918 &lt;static&gt; some(obj, qu) Returns true if any of the items match the query. Aliases as any Parameters: Name Type Description obj array | object The object to query qu object The query to execute Source: documents/probe.js, line 941 Returns: Type boolean &lt;static&gt; unique(obj, qu) Returns the set of unique records that match a query Parameters: Name Type Description obj array | object The object to query qu object The query to execute. See module:documents/probe.queryOperators for the operators you can use. Source: documents/probe.js, line 902 Returns: Type array &lt;static&gt; update(obj, qu, setDocument) Updates all records in obj that match the query. See module:documents/probe.updateOperators for the operators that are supported. Parameters: Name Type Description obj object | array The object to update qu object The query which will be used to identify the records to updated setDocument object The update operator. See module:documents/probe.updateOperators Source: documents/probe.js, line 734 × Search results Close "},"module-documents_probe.queryOperators.html":{"id":"module-documents_probe.queryOperators.html","title":"Class: queryOperators","body":" DocStrap Modules basebase/chainsdocuments/binderdocuments/modeldocuments/probedocuments/schemaink/collectormixins/bussablemixins/signalablestrings/formatutils/logger Classes basebase/chainsdocuments/modeldocuments/probe.queryOperatorsdocuments/probe.updateOperatorsink/collector~ACollectorink/collector~CollectorBaseink/collector~OCollectormixins/signalable~Signalutils/logger.Logger Mixins documents/schemamixins/bussablemixins/signalable Tutorials Brush TeethDrive CarFence Test Class: queryOperators documents/probe. queryOperators This is not actually a class, but an artifact of the documentation system new queryOperators() These are the supported query operators Source: documents/probe.js, line 999 Members &lt;static&gt; $all $all checks to see if all of the members of the query are included in an array{array: {$all: [val1, val2, val3]}} Source: documents/probe.js, line 389 Example var probe = require(&quot;documents/probe&quot;); probe.find( data, {&quot;categories&quot; : {$all : [&quot;cat4&quot;, &quot;cat2&quot;, &quot;cat1&quot;]}} ); &lt;static&gt; $and Returns true if all of the conditions of the query are met{$and: [query1, query2, query3]} Source: documents/probe.js, line 579 Example var probe = require(&quot;documents/probe&quot;); probe.find( data, {$and : [ {&quot;name.first&quot; : &quot;Mildred&quot;}, {&quot;name.last&quot; : &quot;Graves&quot;} ]} ); &lt;static&gt; $elemMatch This is like $all except that it works with an array of objects or value. It checks to see the array matches allof the conditions of the query{array: {$elemMatch: {path: value, path: {$operation: value2}}} Source: documents/probe.js, line 552 Example var probe = require(&quot;documents/probe&quot;); probe.find( data, {attr : {$elemMatch : [ {color : &quot;red&quot;, &quot;hand&quot; : &quot;left&quot;} ]}} ); &lt;static&gt; $eq $eq performs a === comparison by comparing the value directly if it is an atomic value.otherwise if it is an array, it checks to see if the value looked for is in the array.{field: value} or {field: {$eq : value}} or {array: value} or {array: {$eq : value}} Source: documents/probe.js, line 347 Example var probe = require(&quot;documents/probe&quot;); probe.find( data, {categories : &quot;cat1&quot;} ); // is the same as probe.find( data, {categories : {$eq: &quot;cat1&quot;}} ); &lt;static&gt; $exists $exists Sees if a field exists.{field: {$exists: true|false}} Source: documents/probe.js, line 493 Example var probe = require(&quot;documents/probe&quot;); probe.find( data, {&quot;name.middle&quot; : {$exists : true}} ); &lt;static&gt; $gt $gt Sees if a field is greater than the value{field: {$gt: value}} Source: documents/probe.js, line 409 Example var probe = require(&quot;documents/probe&quot;); probe.find( data, {&quot;age&quot; : {$gt : 24}} ); &lt;static&gt; $gte $gte Sees if a field is greater than or equal to the value{field: {$gte: value}} Source: documents/probe.js, line 422 Example var probe = require(&quot;documents/probe&quot;); probe.find( data, {&quot;age&quot; : {$gte : 50}} ); &lt;static&gt; $in $in Sees if a field has one of the values in the query{field: {$in: [test1, test2, test3,...]}} Source: documents/probe.js, line 461 Example var probe = require(&quot;documents/probe&quot;); probe.find( data, {&quot;age&quot; : {$in : [24, 28, 60]}} ); &lt;static&gt; $lt $lt Sees if a field is less than the value{field: {$lt: value}} Source: documents/probe.js, line 435 Example var probe = require(&quot;documents/probe&quot;); probe.find( data, {&quot;age&quot; : {$lt : 24}} ); &lt;static&gt; $lte $lte Sees if a field is less than or equal to the value{field: {$lte: value}} Source: documents/probe.js, line 448 Example var probe = require(&quot;documents/probe&quot;); probe.find( data, {&quot;age&quot; : {$lte : 50}} ); &lt;static&gt; $mod Checks equality to a modulus operation on a field{field: {$mod: [divisor, remainder]}} Source: documents/probe.js, line 506 Example var probe = require(&quot;documents/probe&quot;); probe.find( data, {&quot;age&quot; : {$mod : [2, 0]}} ); &lt;static&gt; $ne $ne performs a !== comparison by comparing the value directly if it is an atomic value. Otherwise, if it is an arraythis is performs a &quot;not in array&quot;.'{field: {$ne : value}}or '{array: {$ne : value}} Source: documents/probe.js, line 369 Example var probe = require(&quot;documents/probe&quot;); probe.find( data, {&quot;name.first&quot; : {$ne : &quot;Sheryl&quot;}} ); &lt;static&gt; $nin $nin Sees if a field has none of the values in the query{field: {$nin: [test1, test2, test3,...]}} Source: documents/probe.js, line 477 Example var probe = require(&quot;documents/probe&quot;); probe.find( data, {&quot;age&quot; : {$nin : [24, 28, 60]}} ); &lt;static&gt; $nor Returns true if none of the conditions of the query are met{$nor: [query1, query2, query3]} Source: documents/probe.js, line 635 Example var probe = require(&quot;documents/probe&quot;); probe.find( data, {$nor : [ {&quot;age&quot; : {$in : [24, 28, 60]}}, {categories : &quot;cat1&quot;} ]} ); &lt;static&gt; $not Logical NOT on the conditions of the query{$not: [query1, query2, query3]} Source: documents/probe.js, line 662 Example var probe = require(&quot;documents/probe&quot;); probe.find( data, {$not : {&quot;age&quot; : {$lt : 24}}} ); &lt;static&gt; $or Returns true if any of the conditions of the query are met{$or: [query1, query2, query3]} Source: documents/probe.js, line 608 Example var probe = require(&quot;documents/probe&quot;); probe.find( data, {$or : [ &quot;age&quot; : {$in : [24, 28, 60]}}, {categories : &quot;cat1&quot;} ]} ); &lt;static&gt; $regex Performs a regular expression test againts the field{field: {$regex: re, $options: reOptions}} Source: documents/probe.js, line 538 Example var probe = require(&quot;documents/probe&quot;); probe.find( data, {&quot;name.first&quot; : {$regex : &quot;m*&quot;, $options : &quot;i&quot;}} ); &lt;static&gt; $size Compares the size of the field/array to the query. This can be used on arrays, strings and objects (where it will count keys){'field|array: {$size: value}}` Source: documents/probe.js, line 525 Example var probe = require(&quot;documents/probe&quot;); probe.find( data, {attr : {$size : 3}} ); × Search results Close "},"module-documents_probe.updateOperators.html":{"id":"module-documents_probe.updateOperators.html","title":"Class: updateOperators","body":" DocStrap Modules basebase/chainsdocuments/binderdocuments/modeldocuments/probedocuments/schemaink/collectormixins/bussablemixins/signalablestrings/formatutils/logger Classes basebase/chainsdocuments/modeldocuments/probe.queryOperatorsdocuments/probe.updateOperatorsink/collector~ACollectorink/collector~CollectorBaseink/collector~OCollectormixins/signalable~Signalutils/logger.Logger Mixins documents/schemamixins/bussablemixins/signalable Tutorials Brush TeethDrive CarFence Test Class: updateOperators documents/probe. updateOperators This is not actually a class, but an artifact of the documentation system new updateOperators() These are the supported update operators Source: documents/probe.js, line 1007 Members &lt;static&gt; $dec Decrements a field by the amount you specify. It takes the form{ $dec: { field1: amount } Source: documents/probe.js, line 245 Example var probe = require(&quot;documents/probe&quot;); probe.update( obj, {'name.last' : 'Owen', 'name.first' : 'LeRoy'}, {$dec : {'password.changes' : 2}} ); &lt;static&gt; $inc Increments a field by the amount you specify. It takes the form{ $inc: { field1: amount } } Source: documents/probe.js, line 225 Example var probe = require(&quot;documents/probe&quot;); probe.update( obj, {'name.last' : 'Owen', 'name.first' : 'LeRoy'}, {$inc : {'password.changes' : 2}} ); &lt;static&gt; $pop The $pop operator removes the first or last element of an array. Pass $pop a value of 1 to remove the last elementin an array and a value of -1 to remove the first element of an array. This will only work on arrays. Syntax:{ $pop: { field: 1 } } or { $pop: { field: -1 } } Source: documents/probe.js, line 277 Example var probe = require(&quot;documents/probe&quot;); // attr is the name of the array field probe.update( data, {_id : '511d18827da2b88b09000133'}, {$pop : {attr : 1}} ); &lt;static&gt; $pull The $pull operator removes all instances of a value from an existing array. It looks like this:{ $pull: { field: &lt;query&gt; } } Source: documents/probe.js, line 318 Example var probe = require(&quot;documents/probe&quot;); // attr is the name of the array field probe.update( data, {'email' : 'EWallace.43@fauxprisons.com'}, {$pull : {attr : {&quot;color&quot; : &quot;green&quot;}}} ); &lt;static&gt; $push The $push operator appends a specified value to an array. It looks like this:{ $push: { &lt;field&gt;: &lt;value&gt; } } Source: documents/probe.js, line 301 Example var probe = require(&quot;documents/probe&quot;); // attr is the name of the array field probe.update( data, {_id : '511d18827da2b88b09000133'}, {$push : {attr : {&quot;hand&quot; : &quot;new&quot;, &quot;color&quot; : &quot;new&quot;}}} ); &lt;static&gt; $unset Removes the field from the object. It takes the form{ $unset: { field1: &quot;&quot; } } Source: documents/probe.js, line 265 Example var probe = require(&quot;documents/probe&quot;); probe.update( data, {'name.first' : 'Yogi'}, {$unset : {'name.first' : ''}} ); × Search results Close "},"module-documents_schema.html":{"id":"module-documents_schema.html","title":"Module: documents/schema","body":" DocStrap Modules basebase/chainsdocuments/binderdocuments/modeldocuments/probedocuments/schemaink/collectormixins/bussablemixins/signalablestrings/formatutils/logger Classes basebase/chainsdocuments/modeldocuments/probe.queryOperatorsdocuments/probe.updateOperatorsink/collector~ACollectorink/collector~CollectorBaseink/collector~OCollectormixins/signalable~Signalutils/logger.Logger Mixins documents/schemamixins/bussablemixins/signalable Tutorials Brush TeethDrive CarFence Test Module: documents/schema Enables a schema and validation feature set to your document or other object. Source: documents/schema.js, line 2 Requires module:base module:jjv × Search results Close "},"module-ink_collector.html":{"id":"module-ink_collector.html","title":"Module: ink/collector","body":" DocStrap Modules basebase/chainsdocuments/binderdocuments/modeldocuments/probedocuments/schemaink/collectormixins/bussablemixins/signalablestrings/formatutils/logger Classes basebase/chainsdocuments/modeldocuments/probe.queryOperatorsdocuments/probe.updateOperatorsink/collector~ACollectorink/collector~CollectorBaseink/collector~OCollectormixins/signalable~Signalutils/logger.Logger Mixins documents/schemamixins/bussablemixins/signalable Tutorials Brush TeethDrive CarFence Test Module: ink/collector An object and array collector Source: documents/collector.js, line 2 Classes ACollector CollectorBase OCollector Methods &lt;static&gt; collect(obj) Collect an object Parameters: Name Type Description obj array | object What to collect Source: documents/collector.js, line 363 Returns: Type ACollector | OCollector &lt;inner&gt; add(key, item) Adds an item to the collection Parameters: Name Type Description key * The key to use for the item being added. item * The item to add to the collection. The item is not iterated so that you could add bundled items to the collection Source: documents/collector.js, line 56 &lt;inner&gt; add(item) Adds to the top of the collection Parameters: Name Type Description item * The item to add to the collection. Only one item at a time can be added Source: documents/collector.js, line 296 &lt;inner&gt; append(item) Add to the bottom of the list Parameters: Name Type Description item * The item to add to the collection. Only one item at a time can be added Source: documents/collector.js, line 303 &lt;inner&gt; at(args) Creates an array of elements from the specified indexes, or keys, of the collection. Indexes may be specified asindividual arguments or as arrays of indexes Parameters: Name Type Description args indexes The indexes to use Source: documents/collector.js, line 324 &lt;inner&gt; compact() Modifies the collection with all falsey values of array removed. The values false, null, 0, &quot;&quot;, undefined and NaN are all falsey. Source: documents/collector.js, line 316 &lt;inner&gt; countBy(query, iterator, thisobj) Creates an object composed of keys returned from running each elementof the collection through the given callback. The corresponding value of each keyis the number of times the key was returned by the callback. Parameters: Name Type Argument Description query object &lt;optional&gt; A query to evaluate. If you pass in a query, only the items that match the queryare iterated over. iterator function thisobj object &lt;optional&gt; The value of this Source: documents/collector.js, line 138 Returns: Type object &lt;inner&gt; destroy() Destructor called when the object is destroyed. Source: documents/collector.js, line 241 &lt;inner&gt; each(query, iterator, thisobj) Iterate over each item in the collection, or a subset that matches a query. This supports two signatures:.each(query, function) and .each(function). If you pass in a query, only the items that match the queryare iterated over. Parameters: Name Type Argument Description query object &lt;optional&gt; A query to evaluate iterator function Function to execute against each item in the collection thisobj object &lt;optional&gt; The value of this Source: documents/collector.js, line 67 &lt;inner&gt; flatten(query, iterator,, thisobj) Flattens a nested array (the nesting can be to any depth). If isShallow is truthy, array will only be flattened a single level.If callback is passed, each element of array is passed through a callback before flattening. Parameters: Name Type Argument Description query object &lt;optional&gt; A query to evaluate . If you pass in a query, only the items that match the queryare iterated over. iterator, function thisobj object &lt;optional&gt; The value of this Source: documents/collector.js, line 338 Returns: Type number &lt;inner&gt; groupBy(query, iterator, thisobj) Creates an object composed of keys returned from running each element of the collection through the callback.The corresponding value of each key is an array of elements passed to callback that returned the key.The callback is invoked with three arguments: (value, index|key, collection). Parameters: Name Type Argument Description query object &lt;optional&gt; A query to evaluate . If you pass in a query, only the items that match the queryare iterated over. iterator function thisobj object &lt;optional&gt; The value of this Source: documents/collector.js, line 157 Returns: Type object &lt;inner&gt; index(key) Gets an items by its index Parameters: Name Type Description key number The index to get Source: documents/collector.js, line 352 Returns: Type * &lt;inner&gt; key(key) Get a record by key Parameters: Name Type Description key * The key of the record to get Source: documents/collector.js, line 257 Returns: Type * &lt;inner&gt; map(query, iterator, thisobj) Maps the contents to an array by iterating over it and transforming it. You supply the iterator. Supports two signatures:.map(query, function) and .map(function). If you pass in a query, only the items that match the queryare iterated over. Parameters: Name Type Argument Description query object &lt;optional&gt; A query to evaluate iterator function Function to execute against each item in the collection thisobj object &lt;optional&gt; The value of this Source: documents/collector.js, line 99 &lt;inner&gt; max(query, iterator, thisobj) Retrieves the maximum value of an array. If callback is passed,it will be executed for each value in the array to generate the criterion by which the value is ranked. Parameters: Name Type Argument Description query object &lt;optional&gt; A query to evaluate . If you pass in a query, only the items that match the queryare iterated over. iterator function thisobj object &lt;optional&gt; The value of this Source: documents/collector.js, line 211 Returns: Type number &lt;inner&gt; min(query, iterator, thisobj) Retrieves the minimum value of an array. If callback is passed,it will be executed for each value in the array to generate the criterion by which the value is ranked. Parameters: Name Type Argument Description query object &lt;optional&gt; A query to evaluate . If you pass in a query, only the items that match the queryare iterated over. iterator function thisobj object &lt;optional&gt; The value of this Source: documents/collector.js, line 229 Returns: Type number &lt;inner&gt; pluck(query, property) Reduce the collection to a single value. Supports two signatures:.pluck(query, function) and .pluck(function) Parameters: Name Type Argument Description query object &lt;optional&gt; The query to evaluate. If you pass in a query, only the items that match the queryare iterated over. property string The property that will be 'plucked' from the contents of the collection Source: documents/collector.js, line 174 Returns: Type * &lt;inner&gt; push(item) Add an item to the top of the list. This is identical to add, but is provided for stack semantics Parameters: Name Type Description item * The item to add to the collection. Only one item at a time can be added Source: documents/collector.js, line 310 &lt;inner&gt; reduce(query, iterator, accumulator, thisobj) Reduces a collection to a value which is the accumulated result of running each element in the collection through thecallback, where each successive callback execution consumes the return value of the previous execution. If accumulatoris not passed, the first element of the collection will be used as the initial accumulator value.are iterated over. Parameters: Name Type Argument Description query object &lt;optional&gt; A query to evaluate iterator function The function that will be executed in each item in the collection accumulator * &lt;optional&gt; Initial value of the accumulator. thisobj object &lt;optional&gt; The value of this Source: documents/collector.js, line 119 Returns: Type * &lt;inner&gt; sortBy(query, iterator, thisobj) Returns a sorted copy of the collection. Parameters: Name Type Argument Description query object &lt;optional&gt; The query to evaluate. If you pass in a query, only the items that match the queryare iterated over. iterator function thisobj object &lt;optional&gt; The value of this Source: documents/collector.js, line 193 Returns: Type array &lt;inner&gt; toArray() Returns the collection as an array. If it is already an array, it just returns that. Source: documents/collector.js, line 80 Returns: Type array &lt;inner&gt; toJSON() Supports conversion to a JSON string or for passing over the wire Source: documents/collector.js, line 88 Returns: Type object Type Object | array × Search results Close "},"module-ink_collector-ACollector.html":{"id":"module-ink_collector-ACollector.html","title":"Class: ACollector","body":" DocStrap Modules basebase/chainsdocuments/binderdocuments/modeldocuments/probedocuments/schemaink/collectormixins/bussablemixins/signalablestrings/formatutils/logger Classes basebase/chainsdocuments/modeldocuments/probe.queryOperatorsdocuments/probe.updateOperatorsink/collector~ACollectorink/collector~CollectorBaseink/collector~OCollectormixins/signalable~Signalutils/logger.Logger Mixins documents/schemamixins/bussablemixins/signalable Tutorials Brush TeethDrive CarFence Test Class: ACollector ink/collector~ ACollector new ACollector() An array based collector Source: documents/collector.js, line 268 Extends module:documents/collector~CollectorBase Members length :number Get the size of the collection Type: number Inherited From: module:documents/collector~CollectorBase#length Source: documents/collector.js, line 29 Methods all(qu) Returns true if all items match the query. Aliases as every Parameters: Name Type Description qu object The query to execute Inherited From: module:documents/collector~CollectorBase#all Source: documents/collector.js, line 411 Returns: Type boolean any(qu) Returns true if any of the items match the query. Aliases as all Parameters: Name Type Description qu object The query to execute Inherited From: module:documents/collector~CollectorBase#any Source: documents/collector.js, line 422 Returns: Type boolean every(qu) Returns true if all items match the query. Aliases as all Parameters: Name Type Description qu object The query to execute Inherited From: module:documents/collector~CollectorBase#every Source: documents/collector.js, line 379 Returns: Type boolean find(qu) Find all records that match a query Parameters: Name Type Description qu object The query to execute. Inherited From: module:documents/collector~CollectorBase#find Source: documents/collector.js, line 478 Returns: The results Type array findKeys(qu) Find all records that match a query and returns the keys for those items. This is similar to module:ink/probe.find but instead of returning records, returns the keys. If obj is an object it will return the hash key. If 'obj' is an array, it will return the index Parameters: Name Type Description qu object The query to execute. Inherited From: module:documents/collector~CollectorBase#findKeys Source: documents/collector.js, line 466 Returns: Type array findOne(qu) Returns the first record that matches the query. Aliased as seek. Parameters: Name Type Description qu object The query to execute. Inherited From: module:documents/collector~CollectorBase#findOne Source: documents/collector.js, line 455 Returns: Type object findOneKey(qu) Returns the first record that matches the query and returns its key or index depending on whether obj is an object or array respectively. Aliased as seekKey. Parameters: Name Type Description qu object The query to execute. Inherited From: module:documents/collector~CollectorBase#findOneKey Source: documents/collector.js, line 443 Returns: Type object remove(qu) Remove all items in the object/array that match the query Parameters: Name Type Description qu object The query to execute. See module:ink/probe.queryOperators for the operators you can use. Inherited From: module:documents/collector~CollectorBase#remove Source: documents/collector.js, line 433 Returns: The array or object as appropriate without the records. Type object | array some(qu) Returns true if any of the items match the query. Aliases as any Parameters: Name Type Description qu object The query to execute Inherited From: module:documents/collector~CollectorBase#some Source: documents/collector.js, line 390 Returns: Type boolean unique(qu) Returns the set of unique records that match a query Parameters: Name Type Description qu object The query to execute. Inherited From: module:documents/collector~CollectorBase#unique Source: documents/collector.js, line 401 Returns: Type array update(qu, setDocument) Updates all records in obj that match the query. See module:ink/probe.updateOperators for the operators that are supported. Parameters: Name Type Description qu object The query which will be used to identify the records to updated setDocument object The update operator. See module:ink/probe.updateOperators Inherited From: module:documents/collector~CollectorBase#update Source: documents/collector.js, line 488 × Search results Close "},"module-ink_collector-CollectorBase.html":{"id":"module-ink_collector-CollectorBase.html","title":"Class: CollectorBase","body":" DocStrap Modules basebase/chainsdocuments/binderdocuments/modeldocuments/probedocuments/schemaink/collectormixins/bussablemixins/signalablestrings/formatutils/logger Classes basebase/chainsdocuments/modeldocuments/probe.queryOperatorsdocuments/probe.updateOperatorsink/collector~ACollectorink/collector~CollectorBaseink/collector~OCollectormixins/signalable~Signalutils/logger.Logger Mixins documents/schemamixins/bussablemixins/signalable Tutorials Brush TeethDrive CarFence Test Class: CollectorBase ink/collector~ CollectorBase new CollectorBase() A collector Source: documents/collector.js, line 15 × Search results Close "},"module-ink_collector-OCollector.html":{"id":"module-ink_collector-OCollector.html","title":"Class: OCollector","body":" DocStrap Modules basebase/chainsdocuments/binderdocuments/modeldocuments/probedocuments/schemaink/collectormixins/bussablemixins/signalablestrings/formatutils/logger Classes basebase/chainsdocuments/modeldocuments/probe.queryOperatorsdocuments/probe.updateOperatorsink/collector~ACollectorink/collector~CollectorBaseink/collector~OCollectormixins/signalable~Signalutils/logger.Logger Mixins documents/schemamixins/bussablemixins/signalable Tutorials Brush TeethDrive CarFence Test Class: OCollector ink/collector~ OCollector new OCollector() An object based collector Source: documents/collector.js, line 251 Extends module:documents/collector~CollectorBase Members length :number Get the size of the collection Type: number Inherited From: module:documents/collector~CollectorBase#length Source: documents/collector.js, line 29 Methods all(qu) Returns true if all items match the query. Aliases as every Parameters: Name Type Description qu object The query to execute Inherited From: module:documents/collector~CollectorBase#all Source: documents/collector.js, line 411 Returns: Type boolean any(qu) Returns true if any of the items match the query. Aliases as all Parameters: Name Type Description qu object The query to execute Inherited From: module:documents/collector~CollectorBase#any Source: documents/collector.js, line 422 Returns: Type boolean every(qu) Returns true if all items match the query. Aliases as all Parameters: Name Type Description qu object The query to execute Inherited From: module:documents/collector~CollectorBase#every Source: documents/collector.js, line 379 Returns: Type boolean find(qu) Find all records that match a query Parameters: Name Type Description qu object The query to execute. Inherited From: module:documents/collector~CollectorBase#find Source: documents/collector.js, line 478 Returns: The results Type array findKeys(qu) Find all records that match a query and returns the keys for those items. This is similar to module:ink/probe.find but instead of returning records, returns the keys. If obj is an object it will return the hash key. If 'obj' is an array, it will return the index Parameters: Name Type Description qu object The query to execute. Inherited From: module:documents/collector~CollectorBase#findKeys Source: documents/collector.js, line 466 Returns: Type array findOne(qu) Returns the first record that matches the query. Aliased as seek. Parameters: Name Type Description qu object The query to execute. Inherited From: module:documents/collector~CollectorBase#findOne Source: documents/collector.js, line 455 Returns: Type object findOneKey(qu) Returns the first record that matches the query and returns its key or index depending on whether obj is an object or array respectively. Aliased as seekKey. Parameters: Name Type Description qu object The query to execute. Inherited From: module:documents/collector~CollectorBase#findOneKey Source: documents/collector.js, line 443 Returns: Type object remove(qu) Remove all items in the object/array that match the query Parameters: Name Type Description qu object The query to execute. See module:ink/probe.queryOperators for the operators you can use. Inherited From: module:documents/collector~CollectorBase#remove Source: documents/collector.js, line 433 Returns: The array or object as appropriate without the records. Type object | array some(qu) Returns true if any of the items match the query. Aliases as any Parameters: Name Type Description qu object The query to execute Inherited From: module:documents/collector~CollectorBase#some Source: documents/collector.js, line 390 Returns: Type boolean unique(qu) Returns the set of unique records that match a query Parameters: Name Type Description qu object The query to execute. Inherited From: module:documents/collector~CollectorBase#unique Source: documents/collector.js, line 401 Returns: Type array update(qu, setDocument) Updates all records in obj that match the query. See module:ink/probe.updateOperators for the operators that are supported. Parameters: Name Type Description qu object The query which will be used to identify the records to updated setDocument object The update operator. See module:ink/probe.updateOperators Inherited From: module:documents/collector~CollectorBase#update Source: documents/collector.js, line 488 × Search results Close "},"module-mixins_bussable.html":{"id":"module-mixins_bussable.html","title":"Module: mixins/bussable","body":" DocStrap Modules basebase/chainsdocuments/binderdocuments/modeldocuments/probedocuments/schemaink/collectormixins/bussablemixins/signalablestrings/formatutils/logger Classes basebase/chainsdocuments/modeldocuments/probe.queryOperatorsdocuments/probe.updateOperatorsink/collector~ACollectorink/collector~CollectorBaseink/collector~OCollectormixins/signalable~Signalutils/logger.Logger Mixins documents/schemamixins/bussablemixins/signalable Tutorials Brush TeethDrive CarFence Test Module: mixins/bussable Provides easy access to the system bus and provides some helper methods for doing so Source: mixins/bussable.js, line 2 Requires module:postal module:lodash module:base × Search results Close "},"module-mixins_signalable.html":{"id":"module-mixins_signalable.html","title":"Module: mixins/signalable","body":" DocStrap Modules basebase/chainsdocuments/binderdocuments/modeldocuments/probedocuments/schemaink/collectormixins/bussablemixins/signalablestrings/formatutils/logger Classes basebase/chainsdocuments/modeldocuments/probe.queryOperatorsdocuments/probe.updateOperatorsink/collector~ACollectorink/collector~CollectorBaseink/collector~OCollectormixins/signalable~Signalutils/logger.Logger Mixins documents/schemamixins/bussablemixins/signalable Tutorials Brush TeethDrive CarFence Test Module: mixins/signalable Add the ability to fire signals on your objects. Signals are events, but hard coded into the objectand don't rely on strings like other events and eventables Source: mixins/signalable.js, line 2 Requires module:base module:signals module:base/logger Classes Signal Type Definitions SignalOptions Properties: Name Type Argument Description memorize boolean &lt;optional&gt; If Signal should keep record of previously dispatched parameters and automatically execute listener. Defaults to false params array &lt;optional&gt; Default parameters passed to listener during Signal.raise/Signal.fire/Signal.trigger and SignalBinding.execute. (curried parameters). Defaults to null context object &lt;optional&gt; When provided the signal will be raised in the context of this object. Defaults to this - the signal host Source: mixins/signalable.js, line 16 Example signals:{ opened: null, twisted: { memorize:true }, applied: { memorize: false, params:[one, two] } } // Setting the context initially can be a hassle, so this also supports a function that returns a hash signals: function(){ return { opened: null, twisted: { memorize:true }, applied: { memorize: false, params:[one, two] }, reversed: {context: someOtherRuntimeObject} }; } × Search results Close "},"module-mixins_signalable-Signal.html":{"id":"module-mixins_signalable-Signal.html","title":"Class: Signal","body":" DocStrap Modules basebase/chainsdocuments/binderdocuments/modeldocuments/probedocuments/schemaink/collectormixins/bussablemixins/signalablestrings/formatutils/logger Classes basebase/chainsdocuments/modeldocuments/probe.queryOperatorsdocuments/probe.updateOperatorsink/collector~ACollectorink/collector~CollectorBaseink/collector~OCollectormixins/signalable~Signalutils/logger.Logger Mixins documents/schemamixins/bussablemixins/signalable Tutorials Brush TeethDrive CarFence Test Class: Signal mixins/signalable~ Signal A signal that can be raised on an object. When you deploy the Signalable mixin, itcreates instances of these for you. new Signal(host, name) Parameters: Name Type Argument Description host object &lt;nullable&gt; If hosted, you can identify the host here. name string &lt;nullable&gt; The name of the signal Source: mixins/signalable.js, line 53 Methods has(listener, listenerContext) Check if listener was attached to Signal. Parameters: Name Type Argument Description listener function The function to check listenerContext object &lt;nullable&gt; The context that was bound Source: mixins/signalable.js, line 130 Returns: Type boolean off(listener, listenerContext) Unbinds a listener to a signal. Parameters: Name Type Argument Description listener function The function to unbind listenerContext object &lt;nullable&gt; The context that was bound Source: mixins/signalable.js, line 120 Returns: Type function on(listener, listenerContext, priority) Ties a listener to a signal. Parameters: Name Type Argument Description listener function The function to call when the signal is raised listenerContext object &lt;nullable&gt; A context to set for the listener. The event host may set a default for this value, but you may override that here. priority number &lt;nullable&gt; A priority for the listener. Source: mixins/signalable.js, line 83 Returns: Type SignalBinding once(listener, listenerContext, priority) Ties a listener to for a signal for one execution. Parameters: Name Type Argument Description listener function The function to call when the signal is raised listenerContext object &lt;nullable&gt; A context to set for the listener. The event host may set a default for this value, but you may override that here. priority number &lt;nullable&gt; A priority for the listener. Source: mixins/signalable.js, line 102 Returns: Type SignalBinding toString() Strings! Source: mixins/signalable.js, line 137 × Search results Close "},"module-strings_format.html":{"id":"module-strings_format.html","title":"Module: strings/format","body":" DocStrap Modules basebase/chainsdocuments/binderdocuments/modeldocuments/probedocuments/schemaink/collectormixins/bussablemixins/signalablestrings/formatutils/logger Classes basebase/chainsdocuments/modeldocuments/probe.queryOperatorsdocuments/probe.updateOperatorsink/collector~ACollectorink/collector~CollectorBaseink/collector~OCollectormixins/signalable~Signalutils/logger.Logger Mixins documents/schemamixins/bussablemixins/signalable Tutorials Brush TeethDrive CarFence Test Module: strings/format String helper methods (require(&quot;strings/format&quot;))(format, args) Format a string quickly and easily using .net style format strings Parameters: Name Type Argument Description format string A string format like &quot;Hello {0}, now take off your {1}!&quot; args ? &lt;repeatable&gt; One argument per {} in the string, positionally replaced Source: strings/format.js, line 24 Returns: Type string Examples var strings = require(&quot;papyrus/strings&quot;); var s = strings.format(&quot;Hello {0}&quot;, &quot;Madame Vastra&quot;); // s = &quot;Hello Madame Vastra&quot; &lt;span&gt; &lt;%= strings.format(&quot;Hello {0}&quot;, &quot;Madame Vastra&quot;) %&gt; &lt;/span&gt; × Search results Close "},"module-utils_logger.html":{"id":"module-utils_logger.html","title":"Module: utils/logger","body":" DocStrap Modules basebase/chainsdocuments/binderdocuments/modeldocuments/probedocuments/schemaink/collectormixins/bussablemixins/signalablestrings/formatutils/logger Classes basebase/chainsdocuments/modeldocuments/probe.queryOperatorsdocuments/probe.updateOperatorsink/collector~ACollectorink/collector~CollectorBaseink/collector~OCollectormixins/signalable~Signalutils/logger.Logger Mixins documents/schemamixins/bussablemixins/signalable Tutorials Brush TeethDrive CarFence Test Module: utils/logger The logging system for papyrus is based on http://pimterry.github.io/loglevel/ and slightly decorated Source: utils/logger.js, line 2 Requires module:dcl module:loglevel Members &lt;static&gt; utils/logger :utils/logger.Logger The system global, cross-platform logger Type: utils/logger.Logger Source: utils/logger.js, line 83 × Search results Close "},"utils_logger.Logger.html":{"id":"utils_logger.Logger.html","title":"Class: Logger","body":" DocStrap Modules basebase/chainsdocuments/binderdocuments/modeldocuments/probedocuments/schemaink/collectormixins/bussablemixins/signalablestrings/formatutils/logger Classes basebase/chainsdocuments/modeldocuments/probe.queryOperatorsdocuments/probe.updateOperatorsink/collector~ACollectorink/collector~CollectorBaseink/collector~OCollectormixins/signalable~Signalutils/logger.Logger Mixins documents/schemamixins/bussablemixins/signalable Tutorials Brush TeethDrive CarFence Test Class: Logger Logger new Logger() A logger class that you can mix into your classes to handle logging settings and state at an object level.See utils/logger for the members of this class Source: utils/logger.js, line 20 See: utils/logger Methods all() Turns on all logging levels Source: utils/logger.js, line 35 debug(The) Log a debug call Parameters: Name Type Description The string value to log Source: utils/logger.js, line 61 error(The) Log a error call Parameters: Name Type Description The string value to log Source: utils/logger.js, line 79 info(The) Log a info call Parameters: Name Type Description The string value to log Source: utils/logger.js, line 67 level(lvl) Sets the logging level to one of trace, debug, info, warn, error. Parameters: Name Type Description lvl string The level to set it to. Can be one of trace, debug, info, warn, error. Source: utils/logger.js, line 43 silent() Turn off all logging. If you log something, it will not error, but will not do anything eitherand the cycles are minimal. Source: utils/logger.js, line 28 trace(The) Log a trace call Parameters: Name Type Description The string value to log Source: utils/logger.js, line 55 warn(The) Log a warn call Parameters: Name Type Description The string value to log Source: utils/logger.js, line 73 × Search results Close "},"tutorial-Brush Teeth.html":{"id":"tutorial-Brush Teeth.html","title":"Tutorial: Brush Teeth","body":" DocStrap Modules basebase/chainsdocuments/binderdocuments/modeldocuments/probedocuments/schemaink/collectormixins/bussablemixins/signalablestrings/formatutils/logger Classes basebase/chainsdocuments/modeldocuments/probe.queryOperatorsdocuments/probe.updateOperatorsink/collector~ACollectorink/collector~CollectorBaseink/collector~OCollectormixins/signalable~Signalutils/logger.Logger Mixins documents/schemamixins/bussablemixins/signalable Tutorials Brush TeethDrive CarFence Test Brush Teeth #Lorem ipsum dolor sit amet Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec viverra, tellus et fermentum tincidunt, massa ligula dignissim augue, ut aliquam tortor odio in odio. In faucibus metus metus. Curabitur est mi, fermentum lacinia tincidunt vitae, mattis sit amet neque. Quisque diam nisl, accumsan ac porta tincidunt, iaculis facilisis ipsum. Nulla facilisi. Aenean a metus tortor. Pellentesque congue, mauris vitae viverra varius, elit nunc dictum nisl, rhoncus ultrices nulla sapien at leo. Duis ultricies porttitor diam. Nulla facilisi. Nullam elementum, lorem eu imperdiet laoreet, est turpis sollicitudin velit, in porttitor justo dolor vel urna. Mauris in ante magna. Curabitur vitae lacus in magna mollis commodo. Fusce lacinia mauris ac aliquam consequat lacus urna feugiat erat id viverra mi mi sit amet tortor Etiam ac 1 3 4.5 6.78910 Pellentesque e 2 2 3 4 neque lacus, quis posuere orci. Fusce molestie blandit velit, sit amet dictum eros pharetra vitae. In erat urna, condimentum ac feugiat id, rutrum et nisi. Cras ac velit lorem. Nulla facilisi. Maecenas dignissim nulla in turpis tempus sed rhoncus augue dapibus. Nulla feugiat, urna non sagittis laoreet, dolor metus rhoncus justo, sed semper ante lacus eget quam. Sed ac ligula magna. Sed tincidunt pulvinar neque in porta. Nullam quis lacus orci. Pellentesque ornare viverra lacus, id aliquam magna venenatis a. Sed id tristique lorem. Ut sodales turpis nec mauris gravida interdum. Cras pellentesque, purus at suscipit euismod, elit nunc cursus nisi, ut venenatis metus sapien id velit. Sed lectus orci, pharetra non pulvinar vel, ullamcorper id lorem. Donec vulputate tincidunt ipsum, ut lacinia tortor sollicitudin id. Nunc nec nibh ut felis venenatis egestas. Proin risus mauris, eleifend eget interdum in, venenatis sed velit. Praesent sodales elit ut odio viverra posuere. Donec sapien lorem, molestie in egestas eget, vulputate sed orci. Aenean elit sapien, pellentesque vitae tempor sit amet, sagittis et ligula. Mauris aliquam sapien sit amet lacus ultrices rutrum. Curabitur nec dolor sed elit varius dignissim a a lacus. Aliquam ac convallis enim. Suspendisse orci massa, hendrerit sagittis lacinia consectetur, sagittis vitae purus. Aliquam id eros diam, eget elementum turpis. Nullam tellus magna, mollis in molestie id, venenatis rhoncus est. Proin id diam justo. Nunc tempus gravida justo at lobortis. Nam vitae venenatis nisi. Donec vel odio massa. Quisque interdum metus sit amet est iaculis tincidunt. Donec bibendum blandit purus, id semper orci aliquam quis. Nam tincidunt dolor eu felis ultricies tempor. Nulla non consectetur erat. Nunc faucibus lacus eget odio ultricies nec ullamcorper risus pharetra. Nunc nec consequat urna. Curabitur condimentum ante vitae erat tristique vitae gravida quam dapibus. Cras ac justo dui, at faucibus urna. Nunc tristique, velit id feugiat fermentum, dolor enim egestas erat, at vestibulum ante ipsum vel orci. Duis quis ante id justo vehicula eleifend sed et urna. Sed sapien tortor, rutrum id ultrices eu, tincidunt tincidunt mi. Etiam blandit, neque eget interdum dignissim, lacus ante facilisis dolor, non viverra dui lorem vitae nibh. Morbi volutpat augue eget nulla luctus eu aliquam sem facilisis. Pellentesque sollicitudin commodo dolor sit amet vestibulum. Nam dictum posuere quam, in tincidunt erat rutrum eu. Etiam nec turpis purus, at lacinia sem. In commodo lacinia euismod. Curabitur tincidunt congue leo, eget iaculis orci volutpat pharetra. Fusce dignissim lacus lacus. Integer consectetur lacus rutrum risus malesuada at consectetur erat rutrum. Sed magna ipsum, fringilla eget auctor non, fringilla nec massa. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Vestibulum nec tortor id nisi luctus aliquam. Maecenas cursus tincidunt ornare. Nulla a vestibulum odio. Mauris malesuada commodo justo quis mattis. Suspendisse mauris ligula, placerat at egestas in, tincidunt quis nibh. Aliquam ullamcorper elit at augue cursus quis pellentesque purus viverra. Nulla ultricies justo ac nisi consectetur posuere. Donec ornare pharetra erat, nec facilisis dui cursus quis. Quisque porttitor porttitor orci, sed facilisis urna facilisis sed. Sed tincidunt adipiscing turpis et hendrerit. Cras posuere orci ut mauris ullamcorper vitae laoreet nisi luctus. In rutrum tristique augue. Nam eleifend dignissim dui. Donec viverra egestas tellus non viverra. Aenean est ante, egestas sed scelerisque quis, aliquet sed lacus. Praesent non mauris neque, et adipiscing ante. Vestibulum quis quam vitae ipsum aliquet blandit. Vivamus condimentum euismod orci, in tincidunt justo rutrum faucibus. Phasellus nec lorem arcu. Donec tortor dui, facilisis in rutrum sit amet, pulvinar vitae lacus. Nam sodales sem eu nunc scelerisque vitae ullamcorper dolor facilisis. Duis imperdiet nisi in magna tempor convallis. Fusce at metus augue. Quisque dictum tempus mauris, in mattis ligula dignissim ut. Proin sodales, mi at tincidunt ornare, mi dui sagittis velit, sed dictum risus orci eu erat. Sed nunc leo, congue sed rutrum eget, lobortis ac lectus. Etiam non arcu nulla. Vestibulum rutrum dolor pulvinar lorem posuere blandit. Sed quis sapien dui. Nunc sagittis erat commodo quam porta cursus in non erat. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Proin a molestie neque. Aliquam iaculis lacus sed neque hendrerit at dignissim ligula imperdiet. Suspendisse venenatis, lorem at luctus scelerisque, sem purus pellentesque sapien, vitae ornare ipsum quam nec dui. Mauris neque est, interdum nec pulvinar eget, dapibus eleifend tellus. Fusce non lorem tortor. Nullam eget nunc quis felis aliquam consectetur. Aliquam tristique, turpis in feugiat blandit, lectus erat condimentum tortor, non egestas nisl sapien eget nibh. Aliquam elit turpis, faucibus et porta et, egestas nec nibh. Sed nisl est, pharetra a eleifend a, pretium ac eros. Sed leo eros, pulvinar vel faucibus dictum, aliquet ut quam. Maecenas et felis non ligula fringilla pretium fringilla sit amet ante. Nam varius imperdiet interdum. Ut non metus mauris, vel volutpat lorem. Nullam sagittis est quis lacus feugiat fringilla. Quisque orci lorem, semper ac accumsan vitae, blandit quis velit. Proin luctus sodales ultrices. Fusce mauris erat, facilisis ut consectetur at, fringilla feugiat orci. Aliquam a nisi a neque interdum suscipit id eget purus. Pellentesque tincidunt justo ut urna posuere non molestie quam auctor. × Search results Close "},"tutorial-Drive Car.html":{"id":"tutorial-Drive Car.html","title":"Tutorial: Drive Car","body":" DocStrap Modules basebase/chainsdocuments/binderdocuments/modeldocuments/probedocuments/schemaink/collectormixins/bussablemixins/signalablestrings/formatutils/logger Classes basebase/chainsdocuments/modeldocuments/probe.queryOperatorsdocuments/probe.updateOperatorsink/collector~ACollectorink/collector~CollectorBaseink/collector~OCollectormixins/signalable~Signalutils/logger.Logger Mixins documents/schemamixins/bussablemixins/signalable Tutorials Brush TeethDrive CarFence Test Drive Car #Lorem ipsum dolor sit amet Curabitur est mi, fermentum lacinia tincidunt vitae, mattis sit amet neque. Quisque diam nisl, accumsan ac porta tincidunt, iaculis facilisis ipsum. Nulla facilisi. Aenean a metus tortor. Pellentesque congue, mauris vitae viverra varius, elit nunc dictum nisl, rhoncus ultrices nulla sapien at leo. Duis ultricies porttitor diam. Nulla facilisi. Nullam elementum, lorem eu imperdiet laoreet, est turpis sollicitudin velit, in porttitor justo dolor vel urna. Mauris in ante magna. Curabitur vitae lacus in magna mollis commodo. ##Fusce lacinia, mauris ac aliquam consequatFusce molestie blandit velit, sit amet dictum eros pharetra vitae. In erat urna, condimentum ac feugiat id, rutrum et nisi. Cras ac velit lorem. Nulla facilisi. Maecenas dignissim nulla in turpis tempus sed rhoncus augue dapibus. Nulla feugiat, urna non sagittis laoreet, dolor metus rhoncus justo, sed semper ante lacus eget quam. Sed ac ligula magna. Sed tincidunt pulvinar neque in porta. Nullam quis lacus orci. Pellentesque ornare viverra lacus, id aliquam magna venenatis a. Sed id tristique lorem. Ut sodales turpis nec mauris gravida interdum. Cras pellentesque, purus at suscipit euismod, elit nunc cursus nisi, ut venenatis metus sapien id velit. Sed lectus orci, pharetra non pulvinar vel, ullamcorper id lorem. Donec vulputate tincidunt ipsum, ut lacinia tortor sollicitudin id. Nunc nec nibh ut felis venenatis egestas. Proin risus mauris, eleifend eget interdum in, venenatis sed velit. Praesent sodales elit ut odio viverra posuere. Donec sapien lorem, molestie in egestas eget, vulputate sed orci. Aenean elit sapien, pellentesque vitae tempor sit amet, sagittis et ligula. Mauris aliquam sapien sit amet lacus ultrices rutrum. Curabitur nec dolor sed elit varius dignissim a a lacus. Aliquam ac convallis enim. Suspendisse orci massa, hendrerit sagittis lacinia consectetur, sagittis vitae purus. Aliquam id eros diam, eget elementum turpis. Nullam tellus magna, mollis in molestie id, venenatis rhoncus est. Proin id diam justo. Nunc tempus gravida justo at lobortis. Nam vitae venenatis nisi. Donec vel odio massa. Quisque interdum metus sit amet est iaculis tincidunt. Donec bibendum blandit purus, id semper orci aliquam quis. Nam tincidunt dolor eu felis ultricies tempor. Nulla non consectetur erat. × Search results Close "},"tutorial-Fence Test.html":{"id":"tutorial-Fence Test.html","title":"Tutorial: Fence Test","body":" DocStrap Modules basebase/chainsdocuments/binderdocuments/modeldocuments/probedocuments/schemaink/collectormixins/bussablemixins/signalablestrings/formatutils/logger Classes basebase/chainsdocuments/modeldocuments/probe.queryOperatorsdocuments/probe.updateOperatorsink/collector~ACollectorink/collector~CollectorBaseink/collector~OCollectormixins/signalable~Signalutils/logger.Logger Mixins documents/schemamixins/bussablemixins/signalable Tutorials Brush TeethDrive CarFence Test Fence Test Lorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur non libero tristique, interdum quam in, fermentum massa. Aenean vestibulum velit eu massa faucibus accumsan. Aenean tempus quam ornare ligula gravida adipiscing. Suspendisse vestibulum diam quis quam lacinia convallis. Nunc rhoncus a elit ut dictum. Maecenas porta mi et risus convallis commodo. In hac habitasse platea dictumst. Morbi placerat sem nec eleifend hendrerit. Donec hendrerit pulvinar tristique. Pellentesque at nunc blandit, fringilla elit nec, dignissim arcu. Quisque sit amet enim urna. Nunc adipiscing lacinia justo. Pellentesque euismod nisi id elit auctor porttitor. Phasellus rutrum viverra felis, ac cursus ante vulputate ut. Donec laoreet felis ac risus vulputate sodales. Mauris sit amet risus non ligula lacinia iaculis. Sed ornare tellus velit, vel elementum quam porttitor tempus. Duis vestibulum augue eu diam malesuada auctor. Maecenas dignissim odio ut elit fermentum, id mollis leo mattis. Phasellus posuere augue sed interdum vestibulum. Etiam ac pharetra est. Integer tortor ligula, pharetra ac nisi nec, faucibus laoreet dolor. Nunc vehicula, enim et cursus tincidunt, nulla purus mollis urna, vel ultricies nisl mi a risus. Vestibulum sed urna sodales, pretium nisi sed, pretium sapien. Vivamus et massa tincidunt, semper nibh nec, eleifend urna. Integer auctor, eros at pharetra blandit, erat nibh mattis turpis, rhoncus elementum nisi mi vitae purus. Quisque elementum sapien id neque volutpat cursus non mattis velit. $mod : function ( qu, value ) { var operands = sys.flatten( qu.operands ); if ( operands.length !== 2 ) { throw new Error( &quot;$mod requires two operands&quot; ); } var mod = operands[0]; var rem = operands[1]; return value % mod === rem; },{@lang bash} #!/bin/bash echo Please, enter your firstname and lastname read FN LN echo &quot;Hi! $LN, $FN !&quot;#!/bin/bash echo Please, enter your firstname and lastname read FN LN echo &quot;Hi! $LN, $FN !&quot; × Search results Close "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
